{"version":3,"sources":["node_modules/browser-pack/_prelude.js","lib/actions.js","lib/dom.js","lib/movie.js","lib/scenario.js","lib/utils.js","lib/vendor/tween.js","lib/widgets/prompt.js","lib/widgets/tooltip.js"],"names":[],"mappings":"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","file":"movie.js","sourcesContent":["(function(){function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s}return e})()","import {extend, makePos, getCursor} from './utils';\n\nvar actions = {\n\t/**\n\t * Type-in passed text into current editor char-by-char\n\t * @param {Object} options Current options\n\t * @param {CodeMirror} editor Editor instance where action should be \n\t * performed\n\t * @param {Function} next Function to call when action performance\n\t * is completed\n\t * @param {Function} timer Function that creates timer for delayed \n\t * execution. This timer will automatically delay execution when\n\t * scenario is paused and revert when played again \n\t */\n\ttype: function({options, editor, next, timer}) {\n\t\toptions = extend({\n\t\t\ttext: '',  // text to type\n\t\t\tdelay: 60, // delay between character typing\n\t\t\tpos: null  // initial position where to start typing\n\t\t}, wrap('text', options));\n\t\t\n\t\tif (!options.text) {\n\t\t\tthrow new Error('No text provided for \"type\" action');\n\t\t}\n\t\t\n\t\tif (options.pos !== null) {\n\t\t\teditor.setCursor(makePos(options.pos, editor));\n\t\t}\n\t\t\n\t\tvar chars = options.text.split('');\n\t\t\n\t\ttimer(function perform() {\n\t\t\tvar ch = chars.shift();\n\t\t\teditor.replaceSelection(ch, 'end');\n\t\t\tif (chars.length) {\n\t\t\t\ttimer(perform, options.delay);\n\t\t\t} else {\n\t\t\t\tnext();\n\t\t\t}\n\t\t}, options.delay);\n\t},\n\t\n\t/**\n\t * Wait for a specified timeout\n\t * @param options\n\t * @param editor\n\t * @param next\n\t * @param timer\n\t */\n\twait: function({options, editor, next, timer}) {\n\t\toptions = extend({\n\t\t\ttimeout: 100\n\t\t}, wrap('timeout', options));\n\t\t\n\t\ttimer(next, parseInt(options.timeout, 10));\n\t},\n\t\n\t/**\n\t * Move caret to a specified position\n\t */\n\tmoveTo: function({options, editor, next, timer}) {\n\t\toptions = extend({\n\t\t\tdelay: 80,\n\t\t\timmediate: false // TODO: remove, use delay: 0 instead\n\t\t}, wrap('pos', options));\n\t\t\n\t\tif (typeof options.pos === 'undefined') {\n\t\t\tthrow new Error('No position specified for \"moveTo\" action');\n\t\t}\n\t\t\n\t\tvar curPos = getCursor(editor);\n\t\t// reset selection, if exists\n\t\teditor.setSelection(curPos, curPos);\n\t\tvar targetPos = makePos(options.pos, editor);\n\t\t\n\t\tif (options.immediate || !options.delay) {\n\t\t\teditor.setCursor(targetPos);\n\t\t\tnext();\n\t\t}\n\n\t\tvar deltaLine = targetPos.line - curPos.line;\n\t\tvar deltaChar = targetPos.ch - curPos.ch;\n\t\tvar steps = Math.max(deltaChar, deltaLine);\n\t\t// var stepLine = deltaLine / steps;\n\t\t// var stepChar = deltaChar / steps;\n\t\tvar stepLine = deltaLine < 0 ? -1 : 1;\n\t\tvar stepChar = deltaChar < 0 ? -1 : 1;\n\n\t\ttimer(function perform() {\n\t\t\tcurPos = getCursor(editor);\n\t\t\tif (steps > 0 && !(curPos.line == targetPos.line && curPos.ch == targetPos.ch)) {\n\n\t\t\t\tif (curPos.line != targetPos.line) {\n\t\t\t\t\tcurPos.line += stepLine;\n\t\t\t\t}\n\n\t\t\t\tif (curPos.ch != targetPos.ch) {\n\t\t\t\t\tcurPos.ch += stepChar;\n\t\t\t\t}\n\n\t\t\t\teditor.setCursor(curPos);\n\t\t\t\tsteps--;\n\t\t\t\ttimer(perform, options.delay);\n\t\t\t} else {\n\t\t\t\teditor.setCursor(targetPos);\n\t\t\t\tnext();\n\t\t\t}\n\t\t}, options.delay);\n\t},\n\n\t/**\n\t * Similar to \"moveTo\" function but with immediate cursor position update\n\t */\n\tjumpTo: function({options, editor, next, timer}) {\n\t\toptions = extend({\n\t\t\tafterDelay: 200\n\t\t}, wrap('pos', options));\n\n\t\tif (typeof options.pos === 'undefined') {\n\t\t\tthrow new Error('No position specified for \"jumpTo\" action');\n\t\t}\n\t\t\n\t\teditor.setCursor(makePos(options.pos, editor));\n\t\ttimer(next, options.afterDelay);\n\t},\n\t\n\t/**\n\t * Executes predefined CodeMirror command\n\t * @param {Object} options\n\t * @param {CodeMirror} editor\n\t * @param {Function} next\n\t * @param {Function} timer\n\t */\n\trun: function({options, editor, next, timer}) {\n\t\toptions = extend({\n\t\t\tbeforeDelay: 500,\n\t\t\ttimes: 1\n\t\t}, wrap('command', options));\n\t\t\n\t\tvar times = options.times;\n\t\ttimer(function perform() {\n\t\t\tif (typeof options.command === 'function') {\n\t\t\t\toptions.command(editor, options);\n\t\t\t} else {\n\t\t\t\teditor.execCommand(options.command);\t\n\t\t\t}\n\t\t\t\n\t\t\tif (--times > 0) {\n\t\t\t\ttimer(perform, options.beforeDelay);\n\t\t\t} else {\n\t\t\t\tnext();\n\t\t\t}\n\t\t}, options.beforeDelay);\n\t},\n\t\n\t/**\n\t * Creates selection for specified position\n\t * @param {Object} options\n\t * @param {CodeMirror} editor\n\t * @param {Function} next\n\t * @param {Function} timer\n\t */\n\tselect: function({options, editor, next, timer}) {\n\t\toptions = extend({\n\t\t\tfrom: 'caret'\n\t\t}, wrap('to', options));\n\t\t\n\t\tvar from = makePos(options.from, editor);\n\t\tvar to = makePos(options.to, editor);\n\t\teditor.setSelection(from, to);\n\t\tnext();\n\t}\n};\n\nfunction wrap(key, value) {\n\treturn typeof value === 'object' ? value : {[key]: value};\n}\n\nexport default actions;","import {toArray} from './utils';\n\nvar w3cCSS = document.defaultView && document.defaultView.getComputedStyle;\n\nexport function viewportRect() {\n\tvar body = document.body;\n\tvar docElem = document.documentElement;\n\tvar clientTop = docElem.clientTop  || body.clientTop  || 0;\n\tvar clientLeft = docElem.clientLeft || body.clientLeft || 0;\n\tvar scrollTop  = window.pageYOffset || docElem.scrollTop  || body.scrollTop;\n\tvar scrollLeft = window.pageXOffset || docElem.scrollLeft || body.scrollLeft;\n\t\n\treturn {\n\t\ttop: scrollTop  - clientTop,\n\t\tleft: scrollLeft - clientLeft,\n\t\twidth: body.clientWidth || docElem.clientWidth,\n\t\theight: body.clientHeight || docElem.clientHeight\n\t};\n}\n\n/**\n * Removes element from parent\n * @param {Element} elem\n * @returns {Element}\n */\nexport function remove(elem) {\n\tar(elem).forEach(el => el.parentNode && el.parentNode.removeChild(el));\n\treturn elem;\n}\n\n/**\n * Renders string into DOM element\n * @param {String} str\n * @returns {Element}\n */\nexport function toDOM(str) {\n\tvar div = document.createElement('div');\n\tdiv.innerHTML = str;\n\treturn div.firstChild;\n}\n\n/**\n * Sets or retrieves CSS property value\n * @param {Element} elem\n * @param {String} prop\n * @param {String} val\n */\nexport function css(elem, prop, val) {\n\tif (typeof prop === 'string' && val == null) {\n\t\treturn getCSS(elem, prop);\n\t}\n\t\n\tif (typeof prop === 'string') {\n\t\tvar obj = {};\n\t\tobj[prop] = val;\n\t\tprop = obj;\n\t}\n\t\n\tsetCSS(elem, prop);\n}\n\nfunction ar(obj) {\n\tif (obj.length === +obj.length) {\n\t\treturn toArray(obj);\n\t}\n\t\n\treturn Array.isArray(obj) ? obj : [obj];\n}\n\nfunction toCamelCase(name) {\n\treturn name.replace(/\\-(\\w)/g, function(str, p1) {\n\t\treturn p1.toUpperCase();\n\t});\n}\n\n/**\n * Returns CSS property value of given element.\n * @author jQuery Team\n * @param {Element} elem\n * @param {String} name CSS property value\n */\nfunction getCSS(elem, name) {\n\tvar rnumpx = /^-?\\d+(?:px)?$/i,\n\t\trnum = /^-?\\d(?:\\.\\d+)?/,\n\t\trsuf = /\\d$/;\n\t\n\tvar nameCamel = toCamelCase(name);\n\t// If the property exists in style[], then it's been set\n\t// recently (and is current)\n\tif (elem.style[nameCamel]) {\n\t\treturn elem.style[nameCamel];\n\t} \n\t\t\n\tif (w3cCSS) {\n\t\tvar cs = window.getComputedStyle(elem, '');\n\t\treturn cs.getPropertyValue(name);\n\t}\n\t\n\tif (elem.currentStyle) {\n\t\tvar ret = elem.currentStyle[name] || elem.currentStyle[nameCamel];\n\t\tvar style = elem.style || elem;\n\t\t\n\t\t// From the awesome hack by Dean Edwards\n\t\t// http://erik.eae.net/archives/2007/07/27/18.54.15/#comment-102291\n\t\t\n\t\t// If we're not dealing with a regular pixel number\n\t\t// but a number that has a weird ending, we need to convert it to pixels\n\t\tif (!rnumpx.test(ret) && rnum.test(ret)) {\n\t\t\t// Remember the original values\n\t\t\tvar left = style.left, rsLeft = elem.runtimeStyle.left;\n\t\t\t\n\t\t\t// Put in the new values to get a computed value out\n\t\t\telem.runtimeStyle.left = elem.currentStyle.left;\n\t\t\tvar suffix = rsuf.test(ret) ? 'em' : '';\n\t\t\tstyle.left = nameCamel === 'fontSize' ? '1em' : (ret + suffix || 0);\n\t\t\tret = style.pixelLeft + 'px';\n\t\t\t\n\t\t\t// Revert the changed values\n\t\t\tstyle.left = left;\n\t\t\telem.runtimeStyle.left = rsLeft;\n\t\t}\n\t\t\n\t\treturn ret;\n\t}\n}\n\n/**\n * Sets CSS properties to given element\n * @param {Element} elem\n * @param {Object} params CSS properties to set\n */\nfunction setCSS(elem, params) {\n\tif (!elem) {\n\t\treturn;\n\t}\n\n\tvar numProps = {'line-height': 1, 'z-index': 1, opacity: 1};\n\tvar props = Object.keys(params).map(k => {\n\t\tvar v = params[k];\n\t\tvar name = k.replace(/([A-Z])/g, '-$1').toLowerCase();\n\t\treturn name + ':' + ((typeof v === 'number' && !(name in numProps)) ? v + 'px' : v);\n\t});\n\n\telem.style.cssText += ';' + props.join(';');\n}","/**\n * A high-level library interface for creating scenarios over textarea\n * element. The <code>CodeMirror.movie</code> takes reference to textarea\n * element (or its ID) and parses its content for initial content value,\n * scenario.\n */\nimport {parseJSON, extend, toArray} from './utils';\nimport Scenario from './scenario';\n\nvar ios = /AppleWebKit/.test(navigator.userAgent) && /Mobile\\/\\w+/.test(navigator.userAgent);\nvar mac = ios || /Mac/.test(navigator.platform);\n\nvar macCharMap = {\n\t'ctrl': '⌃',\n\t'control': '⌃',\n\t'cmd': '⌘',\n\t'shift': '⇧',\n\t'alt': '⌥',\n\t'enter': '⏎',\n\t'tab': '⇥',\n\t'left': '←',\n\t'right': '→',\n\t'up': '↑',\n\t'down': '↓'\n};\n\t\nvar pcCharMap = {\n\t'cmd': 'Ctrl',\n\t'control': 'Ctrl',\n\t'ctrl': 'Ctrl',\n\t'alt': 'Alt',\n\t'shift': 'Shift',\n\t'left': '←',\n\t'right': '→',\n\t'up': '↑',\n\t'down': '↓'\n};\n\nexport var defaultOptions = {\n\t/**\n\t * Automatically parse movie definition from textarea content. Setting\n\t * this property to <code>false</code> assumes that user wants to\n\t * explicitly provide movie data: initial value, scenario etc.\n\t */\n\tparse: true,\n\t\n\t/**\n\t * String or regexp used to separate sections of movie definition, e.g.\n\t * default value, scenario and editor options\n\t */\n\tsectionSeparator: '@@@',\n\t\n\t/** Regular expression to extract outline from scenario line */\n\toutlineSeparator: /\\s+:::\\s+(.+)$/,\n\t\n\t/** Automatically prettify keyboard shortcuts in outline */\n\tprettifyKeys: true,\n\t\n\t/** Strip parentheses from prettyfied keyboard shortcut definition */\n\tstripParentheses: false\n};\n\n/**\n * High-level function to create movie instance on textarea.\n * @param {CodeMirror}\n * @param {Element} target Reference to textarea, either <code>Element</code>\n * or string ID. It can also accept existing CodeMirror object.\n * @param {Object} movieOptions Movie options. See <code>defaultOptions</code>\n * for value reference\n * @param {Object} editorOptions Additional options passed to CodeMirror\n * editor initializer.\n */\nexport default function movie(CodeMirrorEditor, target, movieOptions={}, editorOptions={}) {\n\tsetupCodeMirror(CodeMirrorEditor);\n\n\tif (typeof target === 'string') {\n\t\ttarget = document.getElementById(target);\n\t}\n\n\tvar targetIsTextarea = target.nodeName.toLowerCase() === 'textarea';\n\t\n\tmovieOptions = extend({}, defaultOptions, movieOptions);\n\teditorOptions = extend({\n\t\ttheme: 'espresso',\n\t\tmode : 'text/html',\n\t\tindentWithTabs: true,\n\t\ttabSize: 4,\n\t\tlineNumbers : true,\n\t\tpreventCursorMovement: true\n\t}, editorOptions);\n\t\n\tvar initialValue = editorOptions.value || (targetIsTextarea ? target.value : target.getValue()) || '';\n\t\n\tif (targetIsTextarea && movieOptions.parse) {\n\t\textend(movieOptions, parseMovieDefinition(initialValue, movieOptions));\n\t\tinitialValue = movieOptions.value;\n\t\tif (movieOptions.editorOptions) {\n\t\t\textend(editorOptions, movieOptions.editorOptions);\n\t\t}\n\n\t\t// read CM options from given textarea\n\t\tvar cmAttr = /^data\\-cm\\-(.+)$/i;\n\t\ttoArray(target.attributes).forEach(function(attr) {\n\t\t\tvar m = attr.name.match(cmAttr);\n\t\t\tif (m) {\n\t\t\t\teditorOptions[m[1]] = attr.value;\n\t\t\t}\n\t\t});\n\t}\n\t\n\t// normalize line endings\n\tinitialValue = initialValue.replace(/\\r?\\n/g, '\\n');\n\t\n\t// locate initial caret position from | symbol\n\tvar initialPos = initialValue.indexOf('|');\n\t\n\tif (targetIsTextarea) {\n\t\ttarget.value = editorOptions.value = initialValue = initialValue.replace(/\\|/g, '');\n\t}\n\n\t// create editor instance if needed\n\tvar editor = targetIsTextarea ? CodeMirrorEditor.fromTextArea(target, editorOptions) : target;\n\n\tif (initialPos != -1) {\n\t\teditor.setCursor(editor.posFromIndex(initialPos));\n\t}\n\t\n\t// save initial data so we can revert to it later\n\teditor.__initial = {\n\t\tcontent: initialValue,\n\t\tpos: editor.getCursor(true)\n\t};\n\t\n\tvar wrapper = editor.getWrapperElement();\n\t\n\t// adjust height, if required\n\tif (editorOptions.height) {\n\t\twrapper.style.height = editorOptions.height + 'px';\n\t}\n\t\n\twrapper.className += ' CodeMirror-movie';\n\t\n\tvar sc = new Scenario(movieOptions.scenario, editor);\n\treturn sc;\n};\n\n/**\n * Prettyfies key bindings references in given string: formats it according\n * to current user’s platform. The key binding should be defined inside \n * parentheses, e.g. <code>(ctrl-alt-up)</code>\n * @param {String} str\n * @param {Object} options Transform options\n * @returns {String}\n */\nfunction prettifyKeyBindings(str, options) {\n\toptions = options || {};\n\tvar reKey = /ctrl|alt|shift|cmd/i;\n\tvar map = mac ? macCharMap : pcCharMap;\n\treturn str.replace(/\\((.+?)\\)/g, function(m, kb) {\n\t\tif (reKey.test(kb)) {\n\t\t\tvar parts = kb.toLowerCase()\n\t\t\t\t.split(/[\\-\\+]/)\n\t\t\t\t.map(key => map[key.toLowerCase()] || key.toUpperCase());\n\t\t\t\n\t\t\tm = parts.join(mac ? '' : '+');\n\t\t\tif (!options.stripParentheses) {\n\t\t\t\tm = '(' + m + ')';\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn m;\n\t});\n}\n\nfunction readLines(text) {\n\t// IE fails to split string by regexp, \n\t// need to normalize newlines first\n\tvar nl = '\\n';\n\tvar lines = (text || '')\n\t\t.replace(/\\r\\n/g, nl)\n\t\t.replace(/\\n\\r/g, nl)\n\t\t.replace(/\\r/g, nl)\n\t\t.split(nl);\n\n\treturn lines.filter(Boolean);\n}\n\nfunction unescape(text) {\n\tvar replacements = {\n\t\t'&lt;':  '<',\n\t\t'&gt;':  '>',\n\t\t'&amp;': '&'\n\t};\n\n\treturn text.replace(/&(lt|gt|amp);/g, function(str, p1) {\n\t\treturn replacements[str] || str;\n\t});\n}\n\n/**\n * Extracts initial content and scenario from given string\n * @param {String} text\n * @param {Object} options\n */\nfunction parseMovieDefinition(text, options={}) {\n\toptions = extend({}, defaultOptions, options || {});\n\tvar parts = text.split(options.sectionSeparator);\n\n\t// parse scenario\n\tvar reDef = /^(\\w+)\\s*:\\s*(.+)$/;\n\tvar scenario = [];\n\tvar editorOptions = {};\n\n\tvar skipComment = line => line.charAt(0) !== '#';\n\n\t// read movie definition\n\treadLines(parts[1]).filter(skipComment).forEach(function(line) {\n\t\t// do we have outline definition here?\n\t\tline = line.replace(options.outlineSeparator, '');\n\n\t\tvar sd = line.match(reDef);\n\t\tif (!sd) {\n\t\t\treturn scenario.push(line.trim());\n\t\t}\n\t\t\t\n\n\t\tif (sd[2].charAt(0) === '{') {\n\t\t\tvar obj = {};\n\t\t\tobj[sd[1]] = parseJSON(unescape(sd[2]));\n\t\t\treturn scenario.push(obj);\n\t\t}\n\n\t\tscenario.push(sd[1] + ':' + unescape(sd[2]));\n\t});\n\n\t// read editor options\n\tif (parts[2]) {\n\t\treadLines(parts[2]).filter(skipComment).forEach(function(line) {\n\t\t\tvar sd = line.match(reDef);\n\t\t\tif (sd) {\n\t\t\t\teditorOptions[sd[1]] = sd[2];\n\t\t\t}\n\t\t});\n\t}\n\n\treturn {\n\t\tvalue: unescape(parts[0].trim()),\n\t\tscenario: scenario,\n\t\teditorOptions: editorOptions\n\t};\n}\n\nfunction setupCodeMirror(CodeMirrorEditor) {\n\tif ('preventCursorMovement' in CodeMirrorEditor.defaults) {\n\t\treturn;\n\t}\n\n\tCodeMirrorEditor.defineOption('preventCursorMovement', false, cm => {\n\t\tvar handler = (cm, event) => cm.getOption('readOnly') && event.preventDefault();\n\t\tcm.on('keydown', handler);\n\t\tcm.on('mousedown', handler);\n\t});\n}\n","import commonActions from './actions';\nimport {actions as prompt} from './widgets/prompt';\nimport {actions as tooltip} from './widgets/tooltip';\nimport {extend} from './utils';\n\nvar actionsDefinition = extend({}, commonActions, prompt, tooltip);\n\nvar STATE_IDLE  = 'idle';\nvar STATE_PLAY  = 'play';\nvar STATE_PAUSE = 'pause';\n\n// Regular expression used to split event strings\nvar eventSplitter = /\\s+/;\n\nexport var defaultOptions = {\n\tbeforeDelay: 1000,\n\tafterDelay: 1000\n};\n\n/**\n * @param {Object} actions Actions scenario\n * @param {Object} data Initial content (<code>String</code>) or editor\n * instance (<code>CodeMirror</code>)\n */\nexport default class Scenario {\n\tconstructor(actions, data) {\n\t\tthis._actions = actions;\n\t\tthis._editor = null;\n\t\tthis._state = STATE_IDLE;\n\t\tthis._timerQueue = [];\n\t\t\n\t\tif (data && 'getValue' in data) {\n\t\t\tthis._editor = data;\n\t\t}\n\t\t\n\t\tvar ed = this._editor;\n\t\tif (ed && !ed.__initial) {\n\t\t\ted.__initial = {\n\t\t\t\tcontent: ed.getValue(),\n\t\t\t\tpos: ed.getCursor(true)\n\t\t\t};\n\t\t}\n\t}\n\n\t_setup(editor) {\n\t\tif (!editor && this._editor) {\n\t\t\teditor = this._editor;\n\t\t}\n\t\t\n\t\teditor.execCommand('revert');\n\t\treturn editor;\n\t}\n\t\n\t/**\n\t * Play current scenario\n\t * @param {CodeMirror} editor Editor instance where on which scenario \n\t * should be played\n\t * @memberOf Scenario\n\t */\n\tplay(editor) {\n\t\tif (this._state === STATE_PLAY) {\n\t\t\t// already playing\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tif (this._state === STATE_PAUSE) {\n\t\t\t// revert from paused state\n\t\t\teditor = editor || this._editor;\n\t\t\teditor.focus();\n\t\t\tvar timerObj = null;\n\t\t\twhile (timerObj = this._timerQueue.shift()) {\n\t\t\t\trequestTimer(timerObj.fn, timerObj.delay);\n\t\t\t}\n\t\t\t\n\t\t\tthis._state = STATE_PLAY;\n\t\t\tthis.trigger('resume');\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tthis._editor = editor = this._setup(editor);\n\t\teditor.focus();\n\t\t\n\t\tvar timer = this.requestTimer.bind(this);\n\n\t\tvar gotoAction = actionIx => {\n\t\t\tif (actionIx >= this._actions.length) {\n\t\t\t\treturn timer(() => {\n\t\t\t\t\tthis.stop();\n\t\t\t\t}, defaultOptions.afterDelay);\n\t\t\t}\n\n\t\t\tthis.trigger('action', actionIx);\n\n\t\t\tvar action = parseActionCall(this._actions[actionIx]);\n\n\t\t\tlet prev = null\n\t\t\tfor (let i = actionIx - 1; i >= 0; i--) {\n\t\t\t\tconst oneAction = parseActionCall(this._actions[i])\n\t\t\t\tif (oneAction.name === 'tooltip') {\n\t\t\t\t\tprev = () => gotoAction(actionIx - 1)\n\t\t\t\t\tbreak\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tlet next = null\n\t\t\tfor (let i = actionIx + 1; i < this._actions.length; i++) {\n\t\t\t\tconst oneAction = parseActionCall(this._actions[i])\n\t\t\t\tif (oneAction.name === 'tooltip') {\n\t\t\t\t\tnext = () => gotoAction(actionIx + 1)\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (action.name in actionsDefinition) {\n\t\t\t\tactionsDefinition[action.name]({\n\t\t\t\t\toptions: action.options,\n\t\t\t\t\teditor,\n\t\t\t\t\tnext,\n\t\t\t\t\tprev,\n\t\t\t\t\ttimer\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tthrow new Error('No such action: ' + action.name);\n\t\t\t}\n\t\t};\n\n\t\tthis._state = STATE_PLAY;\n\t\tthis._editor.setOption('readOnly', true);\n\t\tthis.trigger('play');\n\t\ttimer(() => gotoAction(0), defaultOptions.beforeDelay);\n\t}\n\t\n\t/**\n\t * Pause current scenario playback. It can be restored with \n\t * <code>play()</code> method call \n\t */\n\tpause() {\n\t\tthis._state = STATE_PAUSE;\n\t\tthis.trigger('pause');\n\t}\n\t\n\t/**\n\t * Stops playback of current scenario\n\t */\n\tstop() {\n\t\tif (this._state !== STATE_IDLE) {\n\t\t\tthis._state = STATE_IDLE;\n\t\t\tthis._timerQueue.length = 0;\n\t\t\tthis._editor.setOption('readOnly', false);\n\t\t\tthis.trigger('stop');\n\t\t}\n\t}\n\t\n\t/**\n\t * Returns current playback state\n\t * @return {String}\n\t */\n\tget state() {\n\t\treturn this._state;\n\t}\n\t\n\t/**\n\t * Toggle playback of movie scenario\n\t */\n\ttoggle() {\n\t\tif (this._state === STATE_PLAY) {\n\t\t\tthis.pause();\n\t\t} else {\n\t\t\tthis.play();\n\t\t}\n\t}\n\t\n\trequestTimer(fn, delay) {\n\t\tif (this._state !== STATE_PLAY) {\n\t\t\t// save function call into a queue till next 'play()' call\n\t\t\tthis._timerQueue.push({\n\t\t\t\tfn: fn,\n\t\t\t\tdelay: delay\n\t\t\t});\n\t\t} else {\n\t\t\treturn requestTimer(fn, delay);\n\t\t}\n\t}\n\t\n\t// borrowed from Backbone\n\t/**\n\t * Bind one or more space separated events, `events`, to a `callback`\n\t * function. Passing `\"all\"` will bind the callback to all events fired.\n\t * @param {String} events\n\t * @param {Function} callback\n\t * @param {Object} context\n\t * @memberOf eventDispatcher\n\t */\n\ton(events, callback, context) {\n\t\tvar calls, event, node, tail, list;\n\t\tif (!callback) {\n\t\t\treturn this;\n\t\t}\n\t\t\n\t\tevents = events.split(eventSplitter);\n\t\tcalls = this._callbacks || (this._callbacks = {});\n\n\t\t// Create an immutable callback list, allowing traversal during\n\t\t// modification.  The tail is an empty object that will always be used\n\t\t// as the next node.\n\t\twhile (event = events.shift()) {\n\t\t\tlist = calls[event];\n\t\t\tnode = list ? list.tail : {};\n\t\t\tnode.next = tail = {};\n\t\t\tnode.context = context;\n\t\t\tnode.callback = callback;\n\t\t\tcalls[event] = {\n\t\t\t\ttail : tail,\n\t\t\t\tnext : list ? list.next : node\n\t\t\t};\n\t\t}\n\n\t\treturn this;\n\t}\n\n\t/**\n\t * Remove one or many callbacks. If `context` is null, removes all\n\t * callbacks with that function. If `callback` is null, removes all\n\t * callbacks for the event. If `events` is null, removes all bound\n\t * callbacks for all events.\n\t * @param {String} events\n\t * @param {Function} callback\n\t * @param {Object} context\n\t */\n\toff(events, callback, context) {\n\t\tvar event, calls, node, tail, cb, ctx;\n\n\t\t// No events, or removing *all* events.\n\t\tif (!(calls = this._callbacks)) {\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tif (!(events || callback || context)) {\n\t\t\tdelete this._callbacks;\n\t\t\treturn this;\n\t\t}\n\n\t\t// Loop through the listed events and contexts, splicing them out of the\n\t\t// linked list of callbacks if appropriate.\n\t\tevents = events ? events.split(eventSplitter) : Object.keys(calls);\n\t\twhile (event = events.shift()) {\n\t\t\tnode = calls[event];\n\t\t\tdelete calls[event];\n\t\t\tif (!node || !(callback || context)) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\t\n\t\t\t// Create a new list, omitting the indicated callbacks.\n\t\t\ttail = node.tail;\n\t\t\twhile ((node = node.next) !== tail) {\n\t\t\t\tcb = node.callback;\n\t\t\t\tctx = node.context;\n\t\t\t\tif ((callback && cb !== callback) || (context && ctx !== context)) {\n\t\t\t\t\tthis.on(event, cb, ctx);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t}\n\t\n\t/**\n\t * Trigger one or many events, firing all bound callbacks. Callbacks are\n\t * passed the same arguments as `trigger` is, apart from the event name\n\t * (unless you're listening on `\"all\"`, which will cause your callback\n\t * to receive the true name of the event as the first argument).\n\t * @param {String} events\n\t */\n\ttrigger(events, ...rest) {\n\t\tvar event, node, calls, tail, args, all;\n\t\tif (!(calls = this._callbacks)) {\n\t\t\treturn this;\n\t\t}\n\t\t\n\t\tall = calls.all;\n\t\tevents = events.split(eventSplitter);\n\n\t\t// For each event, walk through the linked list of callbacks twice,\n\t\t// first to trigger the event, then to trigger any `\"all\"` callbacks.\n\t\twhile (event = events.shift()) {\n\t\t\tif (node = calls[event]) {\n\t\t\t\ttail = node.tail;\n\t\t\t\twhile ((node = node.next) !== tail) {\n\t\t\t\t\tnode.callback.apply(node.context || this, rest);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (node = all) {\n\t\t\t\ttail = node.tail;\n\t\t\t\targs = [ event ].concat(rest);\n\t\t\t\twhile ((node = node.next) !== tail) {\n\t\t\t\t\tnode.callback.apply(node.context || this, args);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t}\n};\n\n/**\n * Parses action call from string\n * @param {String} data\n * @returns {Object}\n */\nfunction parseActionCall(data) {\n\tif (typeof data === 'string') {\n\t\tvar parts = data.split(':');\n\t\treturn {\n\t\t\tname: parts.shift(),\n\t\t\toptions: parts.join(':')\n\t\t};\n\t} else {\n\t\tvar name = Object.keys(data)[0];\n\t\treturn {\n\t\t\tname: name,\n\t\t\toptions: data[name]\n\t\t};\n\t}\n}\n\nfunction requestTimer(fn, delay) {\n\tif (!delay) {\n\t\tfn();\n\t} else {\n\t\treturn setTimeout(fn, delay);\n\t}\n}","var propCache = {};\n\n// detect CSS 3D Transforms for smoother animations \nexport var has3d = (function() {\n\tvar el = document.createElement('div');\n\tvar cssTransform = prefixed('transform');\n\tif (cssTransform) {\n\t\tel.style[cssTransform] = 'translateZ(0)';\n\t\treturn (/translatez/i).test(el.style[cssTransform]); \n\t}\n\t\n\treturn false;\n})();\n\nexport function extend(obj, ...args) {\n\targs.forEach(a => {\n\t\tif (typeof a === 'object') {\n\t\t\tObject.keys(a).forEach(key => obj[key] = a[key]);\n\t\t}\n\t});\n\treturn obj;\n}\n\nexport function toArray(obj, ix=0) {\n\treturn Array.prototype.slice.call(obj, ix);\n}\n\n/**\n * Returns prefixed (if required) CSS property name\n * @param  {String} prop\n * @return {String}\n */\nexport function prefixed(prop) {\n\tif (prop in propCache) {\n\t\treturn propCache[prop];\n\t}\n\n\tvar el = document.createElement('div');\n\tvar style = el.style;\n\n\tvar prefixes = ['o', 'ms', 'moz', 'webkit'];\n\tvar props = [prop];\n\tvar capitalize = function(str) {\n\t\treturn str.charAt(0).toUpperCase() + str.substr(1);\n\t};\n\n\tprop = prop.replace(/\\-([a-z])/g, function(str, ch) {\n\t\treturn ch.toUpperCase();\n\t});\n\n\tvar capProp = capitalize(prop);\n\tprefixes.forEach(function(prefix) {\n\t\tprops.push(prefix + capProp, capitalize(prefix) + capProp);\n\t});\n\n\tfor (var i = 0, il = props.length; i < il; i++) {\n\t\tif (props[i] in style) {\n\t\t\treturn propCache[prop] = props[i];\n\t\t}\n\t}\n\n\treturn propCache[prop] = null;\n}\n\nexport function posObj(obj) {\n\treturn {\n\t\tline: obj.line,\n\t\tch: obj.ch\n\t};\n}\n\nexport function getCursor(editor, start='from') {\n\treturn posObj(editor.getCursor(start));\n}\n\n/**\n * Helper function that produces <code>{line, ch}</code> object from\n * passed argument\n * @param {Object} pos\n * @param {CodeMirror} editor\n * @returns {Object}\n */\nexport function makePos(pos, editor) {\n\tif (pos === 'caret') {\n\t\treturn getCursor(editor);\n\t}\n\n\tif (typeof pos === 'string') {\n\t\tif (~pos.indexOf(':')) {\n\t\t\tlet parts = pos.split(':');\n\t\t\treturn {\n\t\t\t\tline: +parts[0],\n\t\t\t\tch: +parts[1]\n\t\t\t};\n\t\t}\n\t\t\n\t\tpos = +pos;\n\t}\n\t\n\tif (typeof pos === 'number') {\n\t\treturn posObj(editor.posFromIndex(pos));\n\t}\n\t\n\treturn posObj(pos);\n}\n\nexport function template(tmpl, data) {\n\tvar fn = data => tmpl.replace(/<%([-=])?\\s*([\\w\\-]+)\\s*%>/g, (str, op, key) => data[key.trim()]);\n\treturn data ? fn(data) : fn;\n}\n\nexport function find(arr, iter) {\n\tvar found;\n\tarr.some((item, i, arr) => {\n\t\tif (iter(item, i, arr)) {\n\t\t\treturn found = item;\n\t\t}\n\t});\n\treturn found;\n}\n\n/**\n * Relaxed JSON parser.\n * @param {String} text\n * @returns {Object} \n */\nexport function parseJSON(text) {\n\ttry {\n\t\treturn (new Function('return ' + text))();\n\t} catch(e) {\n\t\treturn {};\n\t}\n}","var global = window;\nvar time = Date.now \n\t? function() {return Date.now();}\n\t: function() {return +new Date;};\n\nvar indexOf = 'indexOf' in Array.prototype\n\t? function(array, value) {return array.indexOf(value);}\n\t: function(array, value) {\n\t\tfor (var i = 0, il = array.length; i < il; i++) {\n\t\t\tif (array[i] === value) {\n\t\t\t\treturn i;\n\t\t\t}\n\t\t}\n\n\t\treturn -1;\n\t};\n\nfunction extend(obj) {\n\tfor (var i = 1, il = arguments.length, source; i < il; i++) {\n\t\tsource = arguments[i];\n\t\tif (source) {\n\t\t\tfor (var prop in source) {\n\t\t\t\tobj[prop] = source[prop];\n\t\t\t}\n\t\t}\n\t}\n\n\treturn obj;\n}\n\n/**\n * requestAnimationFrame polyfill by Erik Möller\n * fixes from Paul Irish and Tino Zijdel\n * http://paulirish.com/2011/requestanimationframe-for-smart-animating/\n * http://my.opera.com/emoller/blog/2011/12/20/requestanimationframe-for-smart-er-animating\n */\n(function() {\n\tvar lastTime = 0;\n\tvar vendors = [ 'ms', 'moz', 'webkit', 'o' ];\n\tfor (var x = 0; x < vendors.length && !global.requestAnimationFrame; ++x) {\n\t\tglobal.requestAnimationFrame = global[vendors[x] + 'RequestAnimationFrame'];\n\t\tglobal.cancelAnimationFrame = global[vendors[x] + 'CancelAnimationFrame']\n\t\t\t\t|| global[vendors[x] + 'CancelRequestAnimationFrame'];\n\t}\n\t\n\tif (!global.requestAnimationFrame)\n\t\tglobal.requestAnimationFrame = function(callback, element) {\n\t\t\tvar currTime = time();\n\t\t\tvar timeToCall = Math.max(0, 16 - (currTime - lastTime));\n\t\t\tvar id = global.setTimeout(function() {\n\t\t\t\tcallback(currTime + timeToCall);\n\t\t\t}, timeToCall);\n\t\t\tlastTime = currTime + timeToCall;\n\t\t\treturn id;\n\t\t};\n\n\tif (!global.cancelAnimationFrame)\n\t\tglobal.cancelAnimationFrame = function(id) {\n\t\t\tclearTimeout(id);\n\t\t};\n}());\n\n\nvar dummyFn = function() {};\nvar anims = [];\nvar idCounter = 0;\n\nvar defaults = {\n\tduration: 500, // ms\n\tdelay: 0,\n\teasing: 'linear',\n\tstart: dummyFn,\n\tstep: dummyFn,\n\tcomplete: dummyFn,\n\tautostart: true,\n\treverse: false\n};\n\nexport var easings = {\n\tlinear: function(t, b, c, d) {\n\t\treturn c * t / d + b;\n\t},\n\tinQuad: function(t, b, c, d) {\n\t\treturn c*(t/=d)*t + b;\n\t},\n\toutQuad: function(t, b, c, d) {\n\t\treturn -c *(t/=d)*(t-2) + b;\n\t},\n\tinOutQuad: function(t, b, c, d) {\n\t\tif((t/=d/2) < 1) return c/2*t*t + b;\n\t\treturn -c/2 *((--t)*(t-2) - 1) + b;\n\t},\n\tinCubic: function(t, b, c, d) {\n\t\treturn c*(t/=d)*t*t + b;\n\t},\n\toutCubic: function(t, b, c, d) {\n\t\treturn c*((t=t/d-1)*t*t + 1) + b;\n\t},\n\tinOutCubic: function(t, b, c, d) {\n\t\tif((t/=d/2) < 1) return c/2*t*t*t + b;\n\t\treturn c/2*((t-=2)*t*t + 2) + b;\n\t},\n\tinExpo: function(t, b, c, d) {\n\t\treturn(t==0) ? b : c * Math.pow(2, 10 *(t/d - 1)) + b - c * 0.001;\n\t},\n\toutExpo: function(t, b, c, d) {\n\t\treturn(t==d) ? b+c : c * 1.001 *(-Math.pow(2, -10 * t/d) + 1) + b;\n\t},\n\tinOutExpo: function(t, b, c, d) {\n\t\tif(t==0) return b;\n\t\tif(t==d) return b+c;\n\t\tif((t/=d/2) < 1) return c/2 * Math.pow(2, 10 *(t - 1)) + b - c * 0.0005;\n\t\treturn c/2 * 1.0005 *(-Math.pow(2, -10 * --t) + 2) + b;\n\t},\n\tinElastic: function(t, b, c, d, a, p) {\n\t\tvar s;\n\t\tif(t==0) return b;  if((t/=d)==1) return b+c;  if(!p) p=d*.3;\n\t\tif(!a || a < Math.abs(c)) { a=c; s=p/4; } else s = p/(2*Math.PI) * Math.asin(c/a);\n\t\treturn -(a*Math.pow(2,10*(t-=1)) * Math.sin((t*d-s)*(2*Math.PI)/p )) + b;\n\t},\n\toutElastic: function(t, b, c, d, a, p) {\n\t\tvar s;\n\t\tif(t==0) return b;  if((t/=d)==1) return b+c;  if(!p) p=d*.3;\n\t\tif(!a || a < Math.abs(c)) { a=c; s=p/4; } else s = p/(2*Math.PI) * Math.asin(c/a);\n\t\treturn(a*Math.pow(2,-10*t) * Math.sin((t*d-s)*(2*Math.PI)/p ) + c + b);\n\t},\n\tinOutElastic: function(t, b, c, d, a, p) {\n\t\tvar s;\n\t\tif(t==0) return b; \n\t\tif((t/=d/2)==2) return b+c;\n\t\tif(!p) p=d*(.3*1.5);\n\t\tif(!a || a < Math.abs(c)) { a=c; s=p/4; }       else s = p/(2*Math.PI) * Math.asin(c/a);\n\t\tif(t < 1) return -.5*(a*Math.pow(2,10*(t-=1)) * Math.sin((t*d-s)*(2*Math.PI)/p )) + b;\n\t\treturn a*Math.pow(2,-10*(t-=1)) * Math.sin((t*d-s)*(2*Math.PI)/p )*.5 + c + b;\n\t},\n\tinBack: function(t, b, c, d, s) {\n\t\tif(s == undefined) s = 1.70158;\n\t\treturn c*(t/=d)*t*((s+1)*t - s) + b;\n\t},\n\toutBack: function(t, b, c, d, s) {\n\t\tif(s == undefined) s = 1.70158;\n\t\treturn c*((t=t/d-1)*t*((s+1)*t + s) + 1) + b;\n\t},\n\tinOutBack: function(t, b, c, d, s) {\n\t\tif(s == undefined) s = 1.70158;\n\t\tif((t/=d/2) < 1) return c/2*(t*t*(((s*=(1.525))+1)*t - s)) + b;\n\t\treturn c/2*((t-=2)*t*(((s*=(1.525))+1)*t + s) + 2) + b;\n\t},\n\tinBounce: function(t, b, c, d) {\n\t\treturn c - this.outBounce(t, d-t, 0, c, d) + b;\n\t},\n\toutBounce: function(t, b, c, d) {\n\t\tif((t/=d) <(1/2.75)) {\n\t\t\treturn c*(7.5625*t*t) + b;\n\t\t} else if(t <(2/2.75)) {\n\t\t\treturn c*(7.5625*(t-=(1.5/2.75))*t + .75) + b;\n\t\t} else if(t <(2.5/2.75)) {\n\t\t\treturn c*(7.5625*(t-=(2.25/2.75))*t + .9375) + b;\n\t\t} else {\n\t\t\treturn c*(7.5625*(t-=(2.625/2.75))*t + .984375) + b;\n\t\t}\n\t},\n\tinOutBounce: function(t, b, c, d) {\n\t\tif(t < d/2) return this.inBounce(t*2, 0, c, d) * .5 + b;\n\t\treturn this.outBounce(t*2-d, 0, c, d) * .5 + c*.5 + b;\n\t},\n\toutHard: function(t, b, c, d) {\n\t\tvar ts = (t/=d)*t;\n\t\tvar tc = ts*t;\n\t\treturn b + c*(1.75*tc*ts + -7.4475*ts*ts + 12.995*tc + -11.595*ts + 5.2975*t);\n\t}\n};\n\nfunction mainLoop() {\n\tif (!anims.length) {\n\t\t// no animations left, stop polling\n\t\treturn;\n\t}\n\t\n\tvar now = time();\n\tvar filtered = [], tween, opt;\n\n\t// do not use Array.filter() of _.filter() function\n\t// since tween’s callbacks can add new animations\n\t// in runtime. In this case, filter function will loose\n\t// newly created animation\n\tfor (var i = 0; i < anims.length; i++) {\n\t\ttween = anims[i];\n\n\t\tif (!tween.animating) {\n\t\t\tcontinue;\n\t\t}\n\n\t\topt = tween.options;\n\n\t\tif (tween.startTime > now) {\n\t\t\tfiltered.push(tween);\n\t\t\tcontinue;\n\t\t}\n\n\t\tif (tween.infinite) {\n\t\t\t// opt.step.call(tween, 0);\n\t\t\topt.step(0, tween);\n\t\t\tfiltered.push(tween);\n\t\t} else if (tween.pos === 1 || tween.endTime <= now) {\n\t\t\ttween.pos = 1;\n\t\t\t// opt.step.call(tween, opt.reverse ? 0 : 1);\n\t\t\topt.step(opt.reverse ? 0 : 1, tween);\n\t\t\ttween.stop();\n\t\t} else {\n\t\t\ttween.pos = opt.easing(now - tween.startTime, 0, 1, opt.duration);\n\t\t\t// opt.step.call(tween, opt.reverse ? 1 - tween.pos : tween.pos);\n\t\t\topt.step(opt.reverse ? 1 - tween.pos : tween.pos, tween);\n\t\t\tfiltered.push(tween);\n\t\t}\t\t\t\n\t}\n\n\tanims = filtered;\n\n\tif (anims.length) {\n\t\trequestAnimationFrame(mainLoop);\n\t}\n}\n\nfunction addToQueue(tween) {\n\tif (indexOf(anims, tween) == -1) {\n\t\tanims.push(tween);\n\t\tif (anims.length == 1) {\n\t\t\tmainLoop();\n\t\t}\n\t}\n}\n\nexport class Tween {\n\tconstructor(options) {\n\t\tthis.options = extend({}, defaults, options);\n\t\n\t\tvar e = this.options.easing;\n\t\tif (typeof e == 'string') {\n\t\t\tif (!easings[e])\n\t\t\t\tthrow 'Unknown \"' + e + '\" easing function';\n\t\t\tthis.options.easing = easings[e];\n\t\t}\n\t\t\n\t\tif (typeof this.options.easing != 'function')\n\t\t\tthrow 'Easing should be a function';\n\n\t\tthis._id = 'tw' + (idCounter++);\n\t\t\n\t\tif (this.options.autostart) {\n\t\t\tthis.start();\n\t\t}\n\t}\n\n\t/**\n\t * Start animation from the beginning\n\t */\n\tstart() {\n\t\tif (!this.animating) {\n\t\t\tthis.pos = 0;\n\t\t\tthis.startTime = time() + (this.options.delay || 0);\n\t\t\tthis.infinite = this.options.duration === 'infinite';\n\t\t\tthis.endTime = this.infinite ? 0 : this.startTime + this.options.duration;\n\t\t\tthis.animating = true;\n\t\t\tthis.options.start(this);\n\t\t\taddToQueue(this);\n\t\t}\n\n\t\treturn this;\n\t}\n\n\t/**\n\t * Stop animation\n\t */\n\tstop() {\n\t\tif (this.animating) {\n\t\t\tthis.animating = false;\n\t\t\tif (this.options.complete) {\n\t\t\t\tthis.options.complete(this);\n\t\t\t}\n\t\t}\n\t\treturn this;\n\t}\n\n\ttoggle() {\n\t\tif (this.animating) {\n\t\t\tthis.stop();\n\t\t} else {\n\t\t\tthis.start();\n\t\t}\n\t}\n}\n\nexport default function tween(options) {\n\treturn new Tween(options);\n}\n\n/**\n * Get or set default value\n * @param  {String} name\n * @param  {Object} value\n * @return {Object}\n */\nexport function defaults(name, value) {\n\tif (typeof value != 'undefined') {\n\t\tdefaults[name] = value;\n\t}\n\n\treturn defaults[name];\n}\n\n/**\n * Returns all active animation objects.\n * For debugging mostly\n * @return {Array}\n */\nexport function _all() {\n\treturn anims;\n}\n\nexport function stop() {\n\tfor (var i = 0; i < anims.length; i++) {\n\t\tanims[i].stop();\n\t}\n\n\tanims.length = 0;\n};","/**\n * Shows fake prompt dialog with interactive value typing\n */\nimport tween from '../vendor/tween';\nimport {extend, template, has3d, prefixed} from '../utils';\nimport * as dom from '../dom';\n\nvar dialogInstance = null;\nvar bgInstance = null;\nvar lastTween = null;\n\nexport var actions = {\n\tprompt({options, editor, next, timer}) {\n\t\toptions = extend({\n\t\t\ttitle: 'Enter something',\n\t\t\tdelay: 80,        // delay between character typing\n\t\t\ttypeDelay: 1000,  // time to wait before typing text\n\t\t\thideDelay: 2000   // time to wait before hiding prompt dialog\n\t\t}, wrap('text', options));\n\t\t\n\t\tshow(options.title, editor.getWrapperElement(), function(dialog) {\n\t\t\ttimer(function() {\n\t\t\t\ttypeText(dialog.querySelector('.CodeMirror-prompt__input'), options, timer, function() {\n\t\t\t\t\ttimer(function() {\n\t\t\t\t\t\thide(next);\n\t\t\t\t\t}, options.hideDelay);\n\t\t\t\t});\n\t\t\t}, options.typeDelay);\n\t\t});\n\t}\n};\n\nexport function show(text, target, callback) {\n\thide();\n\tdialogInstance = dom.toDOM(`<div class=\"CodeMirror-prompt\">\n\t\t<div class=\"CodeMirror-prompt__title\">${text}</div>\n\t\t<input type=\"text\" name=\"prompt\" class=\"CodeMirror-prompt__input\" readonly=\"readonly\" />\n\t\t</div>`);\n\tbgInstance = dom.toDOM('<div class=\"CodeMirror-prompt__shade\"></div>');\n\t\n\ttarget.appendChild(dialogInstance);\n\ttarget.appendChild(bgInstance);\n\t\n\tanimateShow(dialogInstance, bgInstance, {complete: callback});\n}\n\nexport function hide(callback) {\n\tif (dialogInstance) {\n\t\tif (lastTween) {\n\t\t\tlastTween.stop();\n\t\t\tlastTween = null;\n\t\t}\n\t\tanimateHide(dialogInstance, bgInstance, {complete: callback});\n\t\tdialogInstance = bgInstance = null;\n\t} else if (callback) {\n\t\tcallback();\n\t}\n}\n\n/**\n * @param {Element} dialog\n * @param {Element} bg\n * @param {Object} options \n */\nfunction animateShow(dialog, bg, options={}) {\n\tvar cssTransform = prefixed('transform');\n\tvar dialogStyle = dialog.style;\n\tvar bgStyle = bg.style;\n\tvar height = dialog.offsetHeight;\n\tvar tmpl = template(has3d ? 'translate3d(0, <%= pos %>, 0)' : 'translate(0, <%= pos %>)');\n\n\tbgStyle.opacity = 0;\n\ttween({\n\t\tduration: 200,\n\t\tstep(pos) {\n\t\t\tbgStyle.opacity = pos;\n\t\t}\n\t});\n\t\n\tdialogStyle[cssTransform] = tmpl({pos: -height});\n\t\n\treturn lastTween = tween({\n\t\tduration: 400,\n\t\teasing: 'outCubic',\n\t\tstep(pos) {\n\t\t\tdialogStyle[cssTransform] = tmpl({pos: (-height * (1 - pos)) + 'px'});\n\t\t},\n\t\tcomplete: function() {\n\t\t\tlastTween = null;\n\t\t\toptions.complete && options.complete(dialog, bg);\n\t\t}\n\t});\n}\n\n/**\n * @param {Element} dialog\n * @param {Element} bg\n * @param {Object} options\n */\nfunction animateHide(dialog, bg, options) {\n\tvar dialogStyle = dialog.style;\n\tvar bgStyle = bg.style;\n\tvar height = dialog.offsetHeight;\n\tvar cssTransform = prefixed('transform');\n\tvar tmpl = template(has3d ? 'translate3d(0, <%= pos %>, 0)' : 'translate(0, <%= pos %>)');\n\n\treturn tween({\n\t\tduration: 200,\n\t\tstep(pos) {\n\t\t\tdialogStyle[cssTransform] = tmpl({pos: (-height * pos) + 'px'});\n\t\t\tbgStyle.opacity = 1 - pos;\n\t\t},\n\t\tcomplete() {\n\t\t\tdom.remove([dialog, bg]);\n\t\t\toptions.complete && options.complete(dialog, bg);\n\t\t}\n\t});\n}\n\nfunction typeText(target, options, timer, next) {\n\tvar chars = options.text.split('');\n\ttimer(function perform() {\n\t\ttarget.value += chars.shift();\n\t\tif (chars.length) {\n\t\t\ttimer(perform, options.delay);\n\t\t} else {\n\t\t\tnext();\n\t\t}\n\t}, options.delay);\n}\n\nfunction wrap(key, value) {\n\treturn typeof value === 'object' ? value : {[key]: value};\n}","/**\n * Extension that allows authors to display context tooltips bound to specific\n * positions\n */\nimport tween from '../vendor/tween';\nimport {extend, prefixed, makePos, has3d} from '../utils';\nimport * as dom from '../dom';\n\nvar instance = null;\nvar lastTween = null;\n\nexport var alignDefaults = {\n\t/** CSS selector for getting popup tail */\n\ttailClass: 'CodeMirror-tooltip__tail',\n\t\n\t/** Class name for switching tail/popup position relative to target point */\n\tbelowClass: 'CodeMirror-tooltip_below',\n\t\n\t/** Min distance between popup and viewport */\n\tpopupMargin: 5,\n\t\n\t/** Min distance between popup left/right edge and its tail */\n\ttailMargin: 11\n};\n\nexport var actions = {\n\t/**\n\t * Shows tooltip with given text, wait for `options.wait`\n\t * milliseconds then hides tooltip\n\t */\n\ttooltip({options, editor, prev, next, timer}) {\n\t\toptions = extend({\n\t\t\twait: 4000,   // time to wait before hiding tooltip\n\t\t\tpos: 'caret'  // position where tooltip should point to\n\t\t}, wrap('text', options));\n\t\t\n\t\tvar pos = resolvePosition(options.pos, editor);\n\t\tshow({text: options.text, prev, next}, pos, function() {\n\t\t\t// timer(function() {\n\t\t\t// \thide(() => timer(next));\n\t\t\t// }, options.wait);\n\n\t\t\tif (prev) {\n\t\t\t\tinstance.querySelector('.CodeMirror-tooltip__prev').addEventListener('click', () => {\n\t\t\t\t\thide(prev)\n\t\t\t\t})\n\t\t\t}\n\n\t\t\tif (next) {\n\t\t\t\tinstance.querySelector('.CodeMirror-tooltip__next').addEventListener('click', () => {\n\t\t\t\t\thide(next)\n\t\t\t\t})\n\t\t\t}\n\t\t});\n\t},\n\n\t/**\n\t * Shows tooltip with specified text. This tooltip should be explicitly \n\t * hidden with `hideTooltip` action\n\t */\n\tshowTooltip({options, editor, prev, next, timer}) {\n\t\toptions = extend({\n\t\t\tpos: 'caret'  // position where tooltip should point to\n\t\t}, wrap('text', options));\n\t\t\n\t\tshow({text: options.text, prev, next}, resolvePosition(options.pos, editor));\n\t\tnext();\n\t},\n\n\t/**\n\t * Hides tooltip, previously shown by 'showTooltip' action\n\t */\n\thideTooltip({options, editor, next, timer}) {\n\t\thide(next);\n\t}\n};\n\nexport function show({text, prev, next}, pos, callback) {\n\thide();\n\t\n\tlet html = `<div class=\"CodeMirror-tooltip\">\n\t\t<div class=\"CodeMirror-tooltip__content\">${text}</div>\n\t\t<div class=\"CodeMirror-tooltip__tail\"></div>`\n\t\n\tif (prev) {\n\t\thtml += '<button class=\"CodeMirror-tooltip__prev\">forward</button>'\n\t}\n\n\tif (next) {\n\t\thtml += '<button class=\"CodeMirror-tooltip__next\">backward</button>'\n\t}\n\n\thtml += '</div>'\n\n\tinstance = dom.toDOM(html)\n\n\tdom.css(instance, prefixed('transform'), 'scale(0)');\n\tdocument.body.appendChild(instance);\n\n\talignPopupWithTail(instance, {position: pos});\n\tanimateShow(instance, {complete: callback});\n}\n\nexport function hide(callback) {\n\tif (instance) {\n\t\tif (lastTween) {\n\t\t\tlastTween.stop();\n\t\t\tlastTween = null;\n\t\t}\n\t\tanimateHide(instance, {complete: callback});\n\t\tinstance = null;\n\t} else if (callback) {\n\t\tcallback();\n\t}\n}\n\n/**\n * Helper function that finds optimal position of tooltip popup on page\n * and aligns popup tail with this position\n * @param {Element} popup\n * @param {Object} options\n */\nfunction alignPopupWithTail(popup, options={}) {\n\toptions = extend({}, alignDefaults, options);\n\t\n\tdom.css(popup, {\n\t\tleft: 0,\n\t\ttop: 0\n\t});\n\t\n\tvar tail = popup.querySelector('.' + options.tailClass);\n\t\n\tvar resultX = 0, resultY = 0;\n\tvar pos = options.position;\n\tvar vp = dom.viewportRect();\n\t\n\tvar width = popup.offsetWidth;\n\tvar height = popup.offsetHeight;\n\t\n\tvar isTop;\n\t\t\n\t// calculate horizontal position\n\tresultX = Math.min(vp.width - width - options.popupMargin, Math.max(options.popupMargin, pos.x - vp.left - width / 2));\n\t\n\t// calculate vertical position\n\tif (height + tail.offsetHeight + options.popupMargin + vp.top < pos.y) {\n\t\t// place above target position\n\t\tresultY = Math.max(0, pos.y - height - tail.offsetHeight);\n\t\tisTop = true;\n\t} else {\n\t\t// place below target position \n\t\tresultY = pos.y + tail.offsetHeight;\n\t\tisTop = false;\n\t}\n\t\n\t// calculate tail position\n\tvar tailMinLeft = options.tailMargin;\n\tvar tailMaxLeft = width - options.tailMargin;\n\ttail.style.left = Math.min(tailMaxLeft, Math.max(tailMinLeft, pos.x - resultX - vp.left)) + 'px';\n\t\n\tdom.css(popup, {\n\t\tleft: resultX,\n\t\ttop: resultY\n\t});\n\t\n\tpopup.classList.toggle(options.belowClass, !isTop);\n}\n\n/**\n * @param {jQuery} elem\n * @param {Object} options \n */\nfunction animateShow(elem, options={}) {\n\toptions = extend({}, alignDefaults, options);\n\tvar cssOrigin = prefixed('transform-origin');\n\tvar cssTransform = prefixed('transform');\n\tvar style = elem.style;\n\n\tvar tail = elem.querySelector('.' + options.tailClass);\n\tvar xOrigin = dom.css(tail, 'left');\n\tvar yOrigin = tail.offsetTop;\n\tif (elem.classList.contains(options.belowClass)) {\n\t\tyOrigin -= tail.offsetHeight;\n\t}\n\t\n\tyOrigin += 'px';\n\n\tstyle[cssOrigin] = xOrigin + ' ' + yOrigin;\n\tvar prefix = has3d ? 'translateZ(0) ' : '';\n\t\n\treturn lastTween = tween({\n\t\tduration: 800,\n\t\teasing: 'outElastic',\n\t\tstep(pos) {\n\t\t\tstyle[cssTransform] = prefix + 'scale(' + pos + ')';\n\t\t},\n\t\tcomplete() {\n\t\t\tstyle[cssTransform] = 'none';\n\t\t\tlastTween = null;\n\t\t\toptions.complete && options.complete(elem);\n\t\t}\n\t});\n}\n\n/**\n * @param {jQuery} elem\n * @param {Object} options\n */\nfunction animateHide(elem, options) {\n\tvar style = elem.style;\n\n\treturn tween({\n\t\tduration: 200,\n\t\teasing: 'linear',\n\t\tstep: function(pos) {\n\t\t\tstyle.opacity = (1 - pos);\n\t\t},\n\t\tcomplete: function() {\n\t\t\tdom.remove(elem);\n\t\t\toptions.complete && options.complete(elem);\n\t\t}\n\t});\n}\n\n/**\n * Resolves position where tooltip should point to\n * @param {Object} pos\n * @param {CodeMirror} editor\n * @returns {Object} Object with <code>x</code> and <code>y</code> \n * properties\n */\nfunction resolvePosition(pos, editor) {\n\tif (pos === 'caret') {\n\t\t// get absolute position of current caret position\n\t\treturn sanitizeCaretPos(editor.cursorCoords(true));\n\t}\n\n\tif (typeof pos === 'object') {\n\t\tif ('x' in pos && 'y' in pos) {\n\t\t\t// passed absolute coordinates\n\t\t\treturn pos;\n\t\t}\n\n\t\tif ('left' in pos && 'top' in pos) {\n\t\t\t// passed absolute coordinates\n\t\t\treturn sanitizeCaretPos(pos);\n\t\t}\n\t}\n\t\n\tpos = makePos(pos, editor);\n\treturn sanitizeCaretPos(editor.charCoords(pos));\n}\n\nfunction sanitizeCaretPos(pos) {\n\tif ('left' in pos) {\n\t\tpos.x = pos.left;\n\t}\n\n\tif ('top' in pos) {\n\t\tpos.y = pos.top;\n\t}\n\n\treturn pos;\n}\n\nfunction wrap(key, value) {\n\treturn typeof value === 'object' ? value : {[key]: value};\n}"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJsaWIvYWN0aW9ucy5qcyIsImxpYi9kb20uanMiLCJsaWIvbW92aWUuanMiLCJsaWIvc2NlbmFyaW8uanMiLCJsaWIvdXRpbHMuanMiLCJsaWIvdmVuZG9yL3R3ZWVuLmpzIiwibGliL3dpZGdldHMvcHJvbXB0LmpzIiwibGliL3dpZGdldHMvdG9vbHRpcC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7Ozs7O0FDQUE7Ozs7QUFFQSxJQUFJLFVBQVU7QUFDYjs7Ozs7Ozs7Ozs7QUFXQSxPQUFNLG9CQUF5QztBQUFBLE1BQS9CLE9BQStCLFFBQS9CLE9BQStCO0FBQUEsTUFBdEIsTUFBc0IsUUFBdEIsTUFBc0I7QUFBQSxNQUFkLElBQWMsUUFBZCxJQUFjO0FBQUEsTUFBUixLQUFRLFFBQVIsS0FBUTs7QUFDOUMsWUFBVSxtQkFBTztBQUNoQixTQUFNLEVBRFUsRUFDTDtBQUNYLFVBQU8sRUFGUyxFQUVMO0FBQ1gsUUFBSyxJQUhXLENBR0w7QUFISyxHQUFQLEVBSVAsS0FBSyxNQUFMLEVBQWEsT0FBYixDQUpPLENBQVY7O0FBTUEsTUFBSSxDQUFDLFFBQVEsSUFBYixFQUFtQjtBQUNsQixTQUFNLElBQUksS0FBSixDQUFVLG9DQUFWLENBQU47QUFDQTs7QUFFRCxNQUFJLFFBQVEsR0FBUixLQUFnQixJQUFwQixFQUEwQjtBQUN6QixVQUFPLFNBQVAsQ0FBaUIsb0JBQVEsUUFBUSxHQUFoQixFQUFxQixNQUFyQixDQUFqQjtBQUNBOztBQUVELE1BQUksUUFBUSxRQUFRLElBQVIsQ0FBYSxLQUFiLENBQW1CLEVBQW5CLENBQVo7O0FBRUEsUUFBTSxTQUFTLE9BQVQsR0FBbUI7QUFDeEIsT0FBSSxLQUFLLE1BQU0sS0FBTixFQUFUO0FBQ0EsVUFBTyxnQkFBUCxDQUF3QixFQUF4QixFQUE0QixLQUE1QjtBQUNBLE9BQUksTUFBTSxNQUFWLEVBQWtCO0FBQ2pCLFVBQU0s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LE1BQWIsQ0FBTjtBQUNBLFFBQU8saUJBQWlCLE9BQU8sVUFBUCxDQUFrQixHQUFsQixDQUFqQixDQUFQO0FBQ0E7O0FBRUQsU0FBUyxnQkFBVCxDQUEwQixHQUExQixFQUErQjtBQUM5QixLQUFJLFVBQVUsR0FBZCxFQUFtQjtBQUNsQixNQUFJLENBQUosR0FBUSxJQUFJLElBQVo7QUFDQTs7QUFFRCxLQUFJLFNBQVMsR0FBYixFQUFrQjtBQUNqQixNQUFJLENBQUosR0FBUSxJQUFJLEdBQVo7QUFDQTs7QUFFRCxRQUFPLEdBQVA7QUFDQTs7QUFFRCxTQUFTLElBQVQsQ0FBYyxHQUFkLEVBQW1CLEtBQW5CLEVBQTBCO0FBQ3pCLFFBQU8sUUFBTyxLQUFQLHlDQUFPLEtBQVAsT0FBaUIsUUFBakIsR0FBNEIsS0FBNUIsdUJBQXNDLEdBQXRDLEVBQTRDLEtBQTVDLENBQVA7QUFDQSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9cmV0dXJuIGV9KSgpIiwiaW1wb3J0IHtleHRlbmQsIG1ha2VQb3MsIGdldEN1cnNvcn0gZnJvbSAnLi91dGlscyc7XG5cbnZhciBhY3Rpb25zID0ge1xuXHQvKipcblx0ICogVHlwZS1pbiBwYXNzZWQgdGV4dCBpbnRvIGN1cnJlbnQgZWRpdG9yIGNoYXItYnktY2hhclxuXHQgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyBDdXJyZW50IG9wdGlvbnNcblx0ICogQHBhcmFtIHtDb2RlTWlycm9yfSBlZGl0b3IgRWRpdG9yIGluc3RhbmNlIHdoZXJlIGFjdGlvbiBzaG91bGQgYmUgXG5cdCAqIHBlcmZvcm1lZFxuXHQgKiBAcGFyYW0ge0Z1bmN0aW9ufSBuZXh0IEZ1bmN0aW9uIHRvIGNhbGwgd2hlbiBhY3Rpb24gcGVyZm9ybWFuY2Vcblx0ICogaXMgY29tcGxldGVkXG5cdCAqIEBwYXJhbSB7RnVuY3Rpb259IHRpbWVyIEZ1bmN0aW9uIHRoYXQgY3JlYXRlcyB0aW1lciBmb3IgZGVsYXllZCBcblx0ICogZXhlY3V0aW9uLiBUaGlzIHRpbWVyIHdpbGwgYXV0b21hdGljYWxseSBkZWxheSBleGVjdXRpb24gd2hlblxuXHQgKiBzY2VuYXJpbyBpcyBwYXVzZWQgYW5kIHJldmVydCB3aGVuIHBsYXllZCBhZ2FpbiBcblx0ICovXG5cdHR5cGU6IGZ1bmN0aW9uKHtvcHRpb25zLCBlZGl0b3IsIG5leHQsIHRpbWVyfSkge1xuXHRcdG9wdGlvbnMgPSBleHRlbmQoe1xuXHRcdFx0dGV4dDogJycsICAvLyB0ZXh0IHRvIHR5cGVcblx0XHRcdGRlbGF5OiA2MCwgLy8gZGVsYXkgYmV0d2VlbiBjaGFyYWN0ZXIgdHlwaW5nXG5cdFx0XHRwb3M6IG51bGwgIC8vIGluaXRpYWwgcG9zaXRpb24gd2hlcmUgdG8gc3RhcnQgdHlwaW5nXG5cdFx0fSwgd3JhcCgndGV4dCcsIG9wdGlvbnMpKTtcblx0XHRcblx0XHRpZiAoIW9wdGlvbnMudGV4dCkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKCdObyB0ZXh0IHByb3ZpZGVkIGZvciBcInR5cGVcIiBhY3Rpb24nKTtcblx0XHR9XG5cdFx0XG5cdFx0aWYgKG9wdGlvbnMucG9zICE9PSBudWxsKSB7XG5cdFx0XHRlZGl0b3Iuc2V0Q3Vyc29yKG1ha2VQb3Mob3B0aW9ucy5wb3MsIGVkaXRvcikpO1xuXHRcdH1cblx0XHRcblx0XHR2YXIgY2hhcnMgPSBvcHRpb25zLnRleHQuc3BsaXQoJycpO1xuXHRcdFxuXHRcdHRpbWVyKGZ1bmN0aW9uIHBlcmZvcm0oKSB7XG5cdFx0XHR2YXIgY2ggPSBjaGFycy5zaGlmdCgpO1xuXHRcdFx0ZWRpdG9yLnJlcGxhY2VTZWxlY3Rpb24oY2gsICdlbmQnKTtcblx0XHRcdGlmIChjaGFycy5sZW5ndGgpIHtcblx0XHRcdFx0dGltZXIocGVyZm9ybSwgb3B0aW9ucy5kZWxheSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRuZXh0KCk7XG5cdFx0XHR9XG5cdFx0fSwgb3B0aW9ucy5kZWxheSk7XG5cdH0sXG5cdFxuXHQvKipcblx0ICogV2FpdCBmb3IgYSBzcGVjaWZpZWQgdGltZW91dFxuXHQgKiBAcGFyYW0gb3B0aW9uc1xuXHQgKiBAcGFyYW0gZWRpdG9yXG5cdCAqIEBwYXJhbSBuZXh0XG5cdCAqIEBwYXJhbSB0aW1lclxuXHQgKi9cblx0d2FpdDogZnVuY3Rpb24oe29wdGlvbnMsIGVkaXRvciwgbmV4dCwgdGltZXJ9KSB7XG5cdFx0b3B0aW9ucyA9IGV4dGVuZCh7XG5cdFx0XHR0aW1lb3V0OiAxMDBcblx0XHR9LCB3cmFwKCd0aW1lb3V0Jywgb3B0aW9ucykpO1xuXHRcdFxuXHRcdHRpbWVyKG5leHQsIHBhcnNlSW50KG9wdGlvbnMudGltZW91dCwgMTApKTtcblx0fSxcblx0XG5cdC8qKlxuXHQgKiBNb3ZlIGNhcmV0IHRvIGEgc3BlY2lmaWVkIHBvc2l0aW9uXG5cdCAqL1xuXHRtb3ZlVG86IGZ1bmN0aW9uKHtvcHRpb25zLCBlZGl0b3IsIG5leHQsIHRpbWVyfSkge1xuXHRcdG9wdGlvbnMgPSBleHRlbmQoe1xuXHRcdFx0ZGVsYXk6IDgwLFxuXHRcdFx0aW1tZWRpYXRlOiBmYWxzZSAvLyBUT0RPOiByZW1vdmUsIHVzZSBkZWxheTogMCBpbnN0ZWFkXG5cdFx0fSwgd3JhcCgncG9zJywgb3B0aW9ucykpO1xuXHRcdFxuXHRcdGlmICh0eXBlb2Ygb3B0aW9ucy5wb3MgPT09ICd1bmRlZmluZWQnKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ05vIHBvc2l0aW9uIHNwZWNpZmllZCBmb3IgXCJtb3ZlVG9cIiBhY3Rpb24nKTtcblx0XHR9XG5cdFx0XG5cdFx0dmFyIGN1clBvcyA9IGdldEN1cnNvcihlZGl0b3IpO1xuXHRcdC8vIHJlc2V0IHNlbGVjdGlvbiwgaWYgZXhpc3RzXG5cdFx0ZWRpdG9yLnNldFNlbGVjdGlvbihjdXJQb3MsIGN1clBvcyk7XG5cdFx0dmFyIHRhcmdldFBvcyA9IG1ha2VQb3Mob3B0aW9ucy5wb3MsIGVkaXRvcik7XG5cdFx0XG5cdFx0aWYgKG9wdGlvbnMuaW1tZWRpYXRlIHx8ICFvcHRpb25zLmRlbGF5KSB7XG5cdFx0XHRlZGl0b3Iuc2V0Q3Vyc29yKHRhcmdldFBvcyk7XG5cdFx0XHRuZXh0KCk7XG5cdFx0fVxuXG5cdFx0dmFyIGRlbHRhTGluZSA9IHRhcmdldFBvcy5saW5lIC0gY3VyUG9zLmxpbmU7XG5cdFx0dmFyIGRlbHRhQ2hhciA9IHRhcmdldFBvcy5jaCAtIGN1clBvcy5jaDtcblx0XHR2YXIgc3RlcHMgPSBNYXRoLm1heChkZWx0YUNoYXIsIGRlbHRhTGluZSk7XG5cdFx0Ly8gdmFyIHN0ZXBMaW5lID0gZGVsdGFMaW5lIC8gc3RlcHM7XG5cdFx0Ly8gdmFyIHN0ZXBDaGFyID0gZGVsdGFDaGFyIC8gc3RlcHM7XG5cdFx0dmFyIHN0ZXBMaW5lID0gZGVsdGFMaW5lIDwgMCA/IC0xIDogMTtcblx0XHR2YXIgc3RlcENoYXIgPSBkZWx0YUNoYXIgPCAwID8gLTEgOiAxO1xuXG5cdFx0dGltZXIoZnVuY3Rpb24gcGVyZm9ybSgpIHtcblx0XHRcdGN1clBvcyA9IGdldEN1cnNvcihlZGl0b3IpO1xuXHRcdFx0aWYgKHN0ZXBzID4gMCAmJiAhKGN1clBvcy5saW5lID09IHRhcmdldFBvcy5saW5lICYmIGN1clBvcy5jaCA9PSB0YXJnZXRQb3MuY2gpKSB7XG5cblx0XHRcdFx0aWYgKGN1clBvcy5saW5lICE9IHRhcmdldFBvcy5saW5lKSB7XG5cdFx0XHRcdFx0Y3VyUG9zLmxpbmUgKz0gc3RlcExpbmU7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoY3VyUG9zLmNoICE9IHRhcmdldFBvcy5jaCkge1xuXHRcdFx0XHRcdGN1clBvcy5jaCArPSBzdGVwQ2hhcjtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGVkaXRvci5zZXRDdXJzb3IoY3VyUG9zKTtcblx0XHRcdFx0c3RlcHMtLTtcblx0XHRcdFx0dGltZXIocGVyZm9ybSwgb3B0aW9ucy5kZWxheSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRlZGl0b3Iuc2V0Q3Vyc29yKHRhcmdldFBvcyk7XG5cdFx0XHRcdG5leHQoKTtcblx0XHRcdH1cblx0XHR9LCBvcHRpb25zLmRlbGF5KTtcblx0fSxcblxuXHQvKipcblx0ICogU2ltaWxhciB0byBcIm1vdmVUb1wiIGZ1bmN0aW9uIGJ1dCB3aXRoIGltbWVkaWF0ZSBjdXJzb3IgcG9zaXRpb24gdXBkYXRlXG5cdCAqL1xuXHRqdW1wVG86IGZ1bmN0aW9uKHtvcHRpb25zLCBlZGl0b3IsIG5leHQsIHRpbWVyfSkge1xuXHRcdG9wdGlvbnMgPSBleHRlbmQoe1xuXHRcdFx0YWZ0ZXJEZWxheTogMjAwXG5cdFx0fSwgd3JhcCgncG9zJywgb3B0aW9ucykpO1xuXG5cdFx0aWYgKHR5cGVvZiBvcHRpb25zLnBvcyA9PT0gJ3VuZGVmaW5lZCcpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcignTm8gcG9zaXRpb24gc3BlY2lmaWVkIGZvciBcImp1bXBUb1wiIGFjdGlvbicpO1xuXHRcdH1cblx0XHRcblx0XHRlZGl0b3Iuc2V0Q3Vyc29yKG1ha2VQb3Mob3B0aW9ucy5wb3MsIGVkaXRvcikpO1xuXHRcdHRpbWVyKG5leHQsIG9wdGlvbnMuYWZ0ZXJEZWxheSk7XG5cdH0sXG5cdFxuXHQvKipcblx0ICogRXhlY3V0ZXMgcHJlZGVmaW5lZCBDb2RlTWlycm9yIGNvbW1hbmRcblx0ICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcblx0ICogQHBhcmFtIHtDb2RlTWlycm9yfSBlZGl0b3Jcblx0ICogQHBhcmFtIHtGdW5jdGlvbn0gbmV4dFxuXHQgKiBAcGFyYW0ge0Z1bmN0aW9ufSB0aW1lclxuXHQgKi9cblx0cnVuOiBmdW5jdGlvbih7b3B0aW9ucywgZWRpdG9yLCBuZXh0LCB0aW1lcn0pIHtcblx0XHRvcHRpb25zID0gZXh0ZW5kKHtcblx0XHRcdGJlZm9yZURlbGF5OiA1MDAsXG5cdFx0XHR0aW1lczogMVxuXHRcdH0sIHdyYXAoJ2NvbW1hbmQnLCBvcHRpb25zKSk7XG5cdFx0XG5cdFx0dmFyIHRpbWVzID0gb3B0aW9ucy50aW1lcztcblx0XHR0aW1lcihmdW5jdGlvbiBwZXJmb3JtKCkge1xuXHRcdFx0aWYgKHR5cGVvZiBvcHRpb25zLmNvbW1hbmQgPT09ICdmdW5jdGlvbicpIHtcblx0XHRcdFx0b3B0aW9ucy5jb21tYW5kKGVkaXRvciwgb3B0aW9ucyk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRlZGl0b3IuZXhlY0NvbW1hbmQob3B0aW9ucy5jb21tYW5kKTtcdFxuXHRcdFx0fVxuXHRcdFx0XG5cdFx0XHRpZiAoLS10aW1lcyA+IDApIHtcblx0XHRcdFx0dGltZXIocGVyZm9ybSwgb3B0aW9ucy5iZWZvcmVEZWxheSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRuZXh0KCk7XG5cdFx0XHR9XG5cdFx0fSwgb3B0aW9ucy5iZWZvcmVEZWxheSk7XG5cdH0sXG5cdFxuXHQvKipcblx0ICogQ3JlYXRlcyBzZWxlY3Rpb24gZm9yIHNwZWNpZmllZCBwb3NpdGlvblxuXHQgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuXHQgKiBAcGFyYW0ge0NvZGVNaXJyb3J9IGVkaXRvclxuXHQgKiBAcGFyYW0ge0Z1bmN0aW9ufSBuZXh0XG5cdCAqIEBwYXJhbSB7RnVuY3Rpb259IHRpbWVyXG5cdCAqL1xuXHRzZWxlY3Q6IGZ1bmN0aW9uKHtvcHRpb25zLCBlZGl0b3IsIG5leHQsIHRpbWVyfSkge1xuXHRcdG9wdGlvbnMgPSBleHRlbmQoe1xuXHRcdFx0ZnJvbTogJ2NhcmV0J1xuXHRcdH0sIHdyYXAoJ3RvJywgb3B0aW9ucykpO1xuXHRcdFxuXHRcdHZhciBmcm9tID0gbWFrZVBvcyhvcHRpb25zLmZyb20sIGVkaXRvcik7XG5cdFx0dmFyIHRvID0gbWFrZVBvcyhvcHRpb25zLnRvLCBlZGl0b3IpO1xuXHRcdGVkaXRvci5zZXRTZWxlY3Rpb24oZnJvbSwgdG8pO1xuXHRcdG5leHQoKTtcblx0fVxufTtcblxuZnVuY3Rpb24gd3JhcChrZXksIHZhbHVlKSB7XG5cdHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnID8gdmFsdWUgOiB7W2tleV06IHZhbHVlfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgYWN0aW9uczsiLCJpbXBvcnQge3RvQXJyYXl9IGZyb20gJy4vdXRpbHMnO1xuXG52YXIgdzNjQ1NTID0gZG9jdW1lbnQuZGVmYXVsdFZpZXcgJiYgZG9jdW1lbnQuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZTtcblxuZXhwb3J0IGZ1bmN0aW9uIHZpZXdwb3J0UmVjdCgpIHtcblx0dmFyIGJvZHkgPSBkb2N1bWVudC5ib2R5O1xuXHR2YXIgZG9jRWxlbSA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcblx0dmFyIGNsaWVudFRvcCA9IGRvY0VsZW0uY2xpZW50VG9wICB8fCBib2R5LmNsaWVudFRvcCAgfHwgMDtcblx0dmFyIGNsaWVudExlZnQgPSBkb2NFbGVtLmNsaWVudExlZnQgfHwgYm9keS5jbGllbnRMZWZ0IHx8IDA7XG5cdHZhciBzY3JvbGxUb3AgID0gd2luZG93LnBhZ2VZT2Zmc2V0IHx8IGRvY0VsZW0uc2Nyb2xsVG9wICB8fCBib2R5LnNjcm9sbFRvcDtcblx0dmFyIHNjcm9sbExlZnQgPSB3aW5kb3cucGFnZVhPZmZzZXQgfHwgZG9jRWxlbS5zY3JvbGxMZWZ0IHx8IGJvZHkuc2Nyb2xsTGVmdDtcblx0XG5cdHJldHVybiB7XG5cdFx0dG9wOiBzY3JvbGxUb3AgIC0gY2xpZW50VG9wLFxuXHRcdGxlZnQ6IHNjcm9sbExlZnQgLSBjbGllbnRMZWZ0LFxuXHRcdHdpZHRoOiBib2R5LmNsaWVudFdpZHRoIHx8IGRvY0VsZW0uY2xpZW50V2lkdGgsXG5cdFx0aGVpZ2h0OiBib2R5LmNsaWVudEhlaWdodCB8fCBkb2NFbGVtLmNsaWVudEhlaWdodFxuXHR9O1xufVxuXG4vKipcbiAqIFJlbW92ZXMgZWxlbWVudCBmcm9tIHBhcmVudFxuICogQHBhcmFtIHtFbGVtZW50fSBlbGVtXG4gKiBAcmV0dXJucyB7RWxlbWVudH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZShlbGVtKSB7XG5cdGFyKGVsZW0pLmZvckVhY2goZWwgPT4gZWwucGFyZW50Tm9kZSAmJiBlbC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGVsKSk7XG5cdHJldHVybiBlbGVtO1xufVxuXG4vKipcbiAqIFJlbmRlcnMgc3RyaW5nIGludG8gRE9NIGVsZW1lbnRcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHJcbiAqIEByZXR1cm5zIHtFbGVtZW50fVxuICovXG5leHBvcnQgZnVuY3Rpb24gdG9ET00oc3RyKSB7XG5cdHZhciBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblx0ZGl2LmlubmVySFRNTCA9IHN0cjtcblx0cmV0dXJuIGRpdi5maXJzdENoaWxkO1xufVxuXG4vKipcbiAqIFNldHMgb3IgcmV0cmlldmVzIENTUyBwcm9wZXJ0eSB2YWx1ZVxuICogQHBhcmFtIHtFbGVtZW50fSBlbGVtXG4gKiBAcGFyYW0ge1N0cmluZ30gcHJvcFxuICogQHBhcmFtIHtTdHJpbmd9IHZhbFxuICovXG5leHBvcnQgZnVuY3Rpb24gY3NzKGVsZW0sIHByb3AsIHZhbCkge1xuXHRpZiAodHlwZW9mIHByb3AgPT09ICdzdHJpbmcnICYmIHZhbCA9PSBudWxsKSB7XG5cdFx0cmV0dXJuIGdldENTUyhlbGVtLCBwcm9wKTtcblx0fVxuXHRcblx0aWYgKHR5cGVvZiBwcm9wID09PSAnc3RyaW5nJykge1xuXHRcdHZhciBvYmogPSB7fTtcblx0XHRvYmpbcHJvcF0gPSB2YWw7XG5cdFx0cHJvcCA9IG9iajtcblx0fVxuXHRcblx0c2V0Q1NTKGVsZW0sIHByb3ApO1xufVxuXG5mdW5jdGlvbiBhcihvYmopIHtcblx0aWYgKG9iai5sZW5ndGggPT09ICtvYmoubGVuZ3RoKSB7XG5cdFx0cmV0dXJuIHRvQXJyYXkob2JqKTtcblx0fVxuXHRcblx0cmV0dXJuIEFycmF5LmlzQXJyYXkob2JqKSA/IG9iaiA6IFtvYmpdO1xufVxuXG5mdW5jdGlvbiB0b0NhbWVsQ2FzZShuYW1lKSB7XG5cdHJldHVybiBuYW1lLnJlcGxhY2UoL1xcLShcXHcpL2csIGZ1bmN0aW9uKHN0ciwgcDEpIHtcblx0XHRyZXR1cm4gcDEudG9VcHBlckNhc2UoKTtcblx0fSk7XG59XG5cbi8qKlxuICogUmV0dXJucyBDU1MgcHJvcGVydHkgdmFsdWUgb2YgZ2l2ZW4gZWxlbWVudC5cbiAqIEBhdXRob3IgalF1ZXJ5IFRlYW1cbiAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbVxuICogQHBhcmFtIHtTdHJpbmd9IG5hbWUgQ1NTIHByb3BlcnR5IHZhbHVlXG4gKi9cbmZ1bmN0aW9uIGdldENTUyhlbGVtLCBuYW1lKSB7XG5cdHZhciBybnVtcHggPSAvXi0/XFxkKyg/OnB4KT8kL2ksXG5cdFx0cm51bSA9IC9eLT9cXGQoPzpcXC5cXGQrKT8vLFxuXHRcdHJzdWYgPSAvXFxkJC87XG5cdFxuXHR2YXIgbmFtZUNhbWVsID0gdG9DYW1lbENhc2UobmFtZSk7XG5cdC8vIElmIHRoZSBwcm9wZXJ0eSBleGlzdHMgaW4gc3R5bGVbXSwgdGhlbiBpdCdzIGJlZW4gc2V0XG5cdC8vIHJlY2VudGx5IChhbmQgaXMgY3VycmVudClcblx0aWYgKGVsZW0uc3R5bGVbbmFtZUNhbWVsXSkge1xuXHRcdHJldHVybiBlbGVtLnN0eWxlW25hbWVDYW1lbF07XG5cdH0gXG5cdFx0XG5cdGlmICh3M2NDU1MpIHtcblx0XHR2YXIgY3MgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbGVtLCAnJyk7XG5cdFx0cmV0dXJuIGNzLmdldFByb3BlcnR5VmFsdWUobmFtZSk7XG5cdH1cblx0XG5cdGlmIChlbGVtLmN1cnJlbnRTdHlsZSkge1xuXHRcdHZhciByZXQgPSBlbGVtLmN1cnJlbnRTdHlsZVtuYW1lXSB8fCBlbGVtLmN1cnJlbnRTdHlsZVtuYW1lQ2FtZWxdO1xuXHRcdHZhciBzdHlsZSA9IGVsZW0uc3R5bGUgfHwgZWxlbTtcblx0XHRcblx0XHQvLyBGcm9tIHRoZSBhd2Vzb21lIGhhY2sgYnkgRGVhbiBFZHdhcmRzXG5cdFx0Ly8gaHR0cDovL2VyaWsuZWFlLm5ldC9hcmNoaXZlcy8yMDA3LzA3LzI3LzE4LjU0LjE1LyNjb21tZW50LTEwMjI5MVxuXHRcdFxuXHRcdC8vIElmIHdlJ3JlIG5vdCBkZWFsaW5nIHdpdGggYSByZWd1bGFyIHBpeGVsIG51bWJlclxuXHRcdC8vIGJ1dCBhIG51bWJlciB0aGF0IGhhcyBhIHdlaXJkIGVuZGluZywgd2UgbmVlZCB0byBjb252ZXJ0IGl0IHRvIHBpeGVsc1xuXHRcdGlmICghcm51bXB4LnRlc3QocmV0KSAmJiBybnVtLnRlc3QocmV0KSkge1xuXHRcdFx0Ly8gUmVtZW1iZXIgdGhlIG9yaWdpbmFsIHZhbHVlc1xuXHRcdFx0dmFyIGxlZnQgPSBzdHlsZS5sZWZ0LCByc0xlZnQgPSBlbGVtLnJ1bnRpbWVTdHlsZS5sZWZ0O1xuXHRcdFx0XG5cdFx0XHQvLyBQdXQgaW4gdGhlIG5ldyB2YWx1ZXMgdG8gZ2V0IGEgY29tcHV0ZWQgdmFsdWUgb3V0XG5cdFx0XHRlbGVtLnJ1bnRpbWVTdHlsZS5sZWZ0ID0gZWxlbS5jdXJyZW50U3R5bGUubGVmdDtcblx0XHRcdHZhciBzdWZmaXggPSByc3VmLnRlc3QocmV0KSA/ICdlbScgOiAnJztcblx0XHRcdHN0eWxlLmxlZnQgPSBuYW1lQ2FtZWwgPT09ICdmb250U2l6ZScgPyAnMWVtJyA6IChyZXQgKyBzdWZmaXggfHwgMCk7XG5cdFx0XHRyZXQgPSBzdHlsZS5waXhlbExlZnQgKyAncHgnO1xuXHRcdFx0XG5cdFx0XHQvLyBSZXZlcnQgdGhlIGNoYW5nZWQgdmFsdWVzXG5cdFx0XHRzdHlsZS5sZWZ0ID0gbGVmdDtcblx0XHRcdGVsZW0ucnVudGltZVN0eWxlLmxlZnQgPSByc0xlZnQ7XG5cdFx0fVxuXHRcdFxuXHRcdHJldHVybiByZXQ7XG5cdH1cbn1cblxuLyoqXG4gKiBTZXRzIENTUyBwcm9wZXJ0aWVzIHRvIGdpdmVuIGVsZW1lbnRcbiAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbVxuICogQHBhcmFtIHtPYmplY3R9IHBhcmFtcyBDU1MgcHJvcGVydGllcyB0byBzZXRcbiAqL1xuZnVuY3Rpb24gc2V0Q1NTKGVsZW0sIHBhcmFtcykge1xuXHRpZiAoIWVsZW0pIHtcblx0XHRyZXR1cm47XG5cdH1cblxuXHR2YXIgbnVtUHJvcHMgPSB7J2xpbmUtaGVpZ2h0JzogMSwgJ3otaW5kZXgnOiAxLCBvcGFjaXR5OiAxfTtcblx0dmFyIHByb3BzID0gT2JqZWN0LmtleXMocGFyYW1zKS5tYXAoayA9PiB7XG5cdFx0dmFyIHYgPSBwYXJhbXNba107XG5cdFx0dmFyIG5hbWUgPSBrLnJlcGxhY2UoLyhbQS1aXSkvZywgJy0kMScpLnRvTG93ZXJDYXNlKCk7XG5cdFx0cmV0dXJuIG5hbWUgKyAnOicgKyAoKHR5cGVvZiB2ID09PSAnbnVtYmVyJyAmJiAhKG5hbWUgaW4gbnVtUHJvcHMpKSA/IHYgKyAncHgnIDogdik7XG5cdH0pO1xuXG5cdGVsZW0uc3R5bGUuY3NzVGV4dCArPSAnOycgKyBwcm9wcy5qb2luKCc7Jyk7XG59IiwiLyoqXG4gKiBBIGhpZ2gtbGV2ZWwgbGlicmFyeSBpbnRlcmZhY2UgZm9yIGNyZWF0aW5nIHNjZW5hcmlvcyBvdmVyIHRleHRhcmVhXG4gKiBlbGVtZW50LiBUaGUgPGNvZGU+Q29kZU1pcnJvci5tb3ZpZTwvY29kZT4gdGFrZXMgcmVmZXJlbmNlIHRvIHRleHRhcmVhXG4gKiBlbGVtZW50IChvciBpdHMgSUQpIGFuZCBwYXJzZXMgaXRzIGNvbnRlbnQgZm9yIGluaXRpYWwgY29udGVudCB2YWx1ZSxcbiAqIHNjZW5hcmlvLlxuICovXG5pbXBvcnQge3BhcnNlSlNPTiwgZXh0ZW5kLCB0b0FycmF5fSBmcm9tICcuL3V0aWxzJztcbmltcG9ydCBTY2VuYXJpbyBmcm9tICcuL3NjZW5hcmlvJztcblxudmFyIGlvcyA9IC9BcHBsZVdlYktpdC8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSAmJiAvTW9iaWxlXFwvXFx3Ky8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTtcbnZhciBtYWMgPSBpb3MgfHwgL01hYy8udGVzdChuYXZpZ2F0b3IucGxhdGZvcm0pO1xuXG52YXIgbWFjQ2hhck1hcCA9IHtcblx0J2N0cmwnOiAn4oyDJyxcblx0J2NvbnRyb2wnOiAn4oyDJyxcblx0J2NtZCc6ICfijJgnLFxuXHQnc2hpZnQnOiAn4oenJyxcblx0J2FsdCc6ICfijKUnLFxuXHQnZW50ZXInOiAn4o+OJyxcblx0J3RhYic6ICfih6UnLFxuXHQnbGVmdCc6ICfihpAnLFxuXHQncmlnaHQnOiAn4oaSJyxcblx0J3VwJzogJ+KGkScsXG5cdCdkb3duJzogJ+KGkydcbn07XG5cdFxudmFyIHBjQ2hhck1hcCA9IHtcblx0J2NtZCc6ICdDdHJsJyxcblx0J2NvbnRyb2wnOiAnQ3RybCcsXG5cdCdjdHJsJzogJ0N0cmwnLFxuXHQnYWx0JzogJ0FsdCcsXG5cdCdzaGlmdCc6ICdTaGlmdCcsXG5cdCdsZWZ0JzogJ+KGkCcsXG5cdCdyaWdodCc6ICfihpInLFxuXHQndXAnOiAn4oaRJyxcblx0J2Rvd24nOiAn4oaTJ1xufTtcblxuZXhwb3J0IHZhciBkZWZhdWx0T3B0aW9ucyA9IHtcblx0LyoqXG5cdCAqIEF1dG9tYXRpY2FsbHkgcGFyc2UgbW92aWUgZGVmaW5pdGlvbiBmcm9tIHRleHRhcmVhIGNvbnRlbnQuIFNldHRpbmdcblx0ICogdGhpcyBwcm9wZXJ0eSB0byA8Y29kZT5mYWxzZTwvY29kZT4gYXNzdW1lcyB0aGF0IHVzZXIgd2FudHMgdG9cblx0ICogZXhwbGljaXRseSBwcm92aWRlIG1vdmllIGRhdGE6IGluaXRpYWwgdmFsdWUsIHNjZW5hcmlvIGV0Yy5cblx0ICovXG5cdHBhcnNlOiB0cnVlLFxuXHRcblx0LyoqXG5cdCAqIFN0cmluZyBvciByZWdleHAgdXNlZCB0byBzZXBhcmF0ZSBzZWN0aW9ucyBvZiBtb3ZpZSBkZWZpbml0aW9uLCBlLmcuXG5cdCAqIGRlZmF1bHQgdmFsdWUsIHNjZW5hcmlvIGFuZCBlZGl0b3Igb3B0aW9uc1xuXHQgKi9cblx0c2VjdGlvblNlcGFyYXRvcjogJ0BAQCcsXG5cdFxuXHQvKiogUmVndWxhciBleHByZXNzaW9uIHRvIGV4dHJhY3Qgb3V0bGluZSBmcm9tIHNjZW5hcmlvIGxpbmUgKi9cblx0b3V0bGluZVNlcGFyYXRvcjogL1xccys6OjpcXHMrKC4rKSQvLFxuXHRcblx0LyoqIEF1dG9tYXRpY2FsbHkgcHJldHRpZnkga2V5Ym9hcmQgc2hvcnRjdXRzIGluIG91dGxpbmUgKi9cblx0cHJldHRpZnlLZXlzOiB0cnVlLFxuXHRcblx0LyoqIFN0cmlwIHBhcmVudGhlc2VzIGZyb20gcHJldHR5ZmllZCBrZXlib2FyZCBzaG9ydGN1dCBkZWZpbml0aW9uICovXG5cdHN0cmlwUGFyZW50aGVzZXM6IGZhbHNlXG59O1xuXG4vKipcbiAqIEhpZ2gtbGV2ZWwgZnVuY3Rpb24gdG8gY3JlYXRlIG1vdmllIGluc3RhbmNlIG9uIHRleHRhcmVhLlxuICogQHBhcmFtIHtDb2RlTWlycm9yfVxuICogQHBhcmFtIHtFbGVtZW50fSB0YXJnZXQgUmVmZXJlbmNlIHRvIHRleHRhcmVhLCBlaXRoZXIgPGNvZGU+RWxlbWVudDwvY29kZT5cbiAqIG9yIHN0cmluZyBJRC4gSXQgY2FuIGFsc28gYWNjZXB0IGV4aXN0aW5nIENvZGVNaXJyb3Igb2JqZWN0LlxuICogQHBhcmFtIHtPYmplY3R9IG1vdmllT3B0aW9ucyBNb3ZpZSBvcHRpb25zLiBTZWUgPGNvZGU+ZGVmYXVsdE9wdGlvbnM8L2NvZGU+XG4gKiBmb3IgdmFsdWUgcmVmZXJlbmNlXG4gKiBAcGFyYW0ge09iamVjdH0gZWRpdG9yT3B0aW9ucyBBZGRpdGlvbmFsIG9wdGlvbnMgcGFzc2VkIHRvIENvZGVNaXJyb3JcbiAqIGVkaXRvciBpbml0aWFsaXplci5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gbW92aWUoQ29kZU1pcnJvckVkaXRvciwgdGFyZ2V0LCBtb3ZpZU9wdGlvbnM9e30sIGVkaXRvck9wdGlvbnM9e30pIHtcblx0c2V0dXBDb2RlTWlycm9yKENvZGVNaXJyb3JFZGl0b3IpO1xuXG5cdGlmICh0eXBlb2YgdGFyZ2V0ID09PSAnc3RyaW5nJykge1xuXHRcdHRhcmdldCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRhcmdldCk7XG5cdH1cblxuXHR2YXIgdGFyZ2V0SXNUZXh0YXJlYSA9IHRhcmdldC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09PSAndGV4dGFyZWEnO1xuXHRcblx0bW92aWVPcHRpb25zID0gZXh0ZW5kKHt9LCBkZWZhdWx0T3B0aW9ucywgbW92aWVPcHRpb25zKTtcblx0ZWRpdG9yT3B0aW9ucyA9IGV4dGVuZCh7XG5cdFx0dGhlbWU6ICdlc3ByZXNzbycsXG5cdFx0bW9kZSA6ICd0ZXh0L2h0bWwnLFxuXHRcdGluZGVudFdpdGhUYWJzOiB0cnVlLFxuXHRcdHRhYlNpemU6IDQsXG5cdFx0bGluZU51bWJlcnMgOiB0cnVlLFxuXHRcdHByZXZlbnRDdXJzb3JNb3ZlbWVudDogdHJ1ZVxuXHR9LCBlZGl0b3JPcHRpb25zKTtcblx0XG5cdHZhciBpbml0aWFsVmFsdWUgPSBlZGl0b3JPcHRpb25zLnZhbHVlIHx8ICh0YXJnZXRJc1RleHRhcmVhID8gdGFyZ2V0LnZhbHVlIDogdGFyZ2V0LmdldFZhbHVlKCkpIHx8ICcnO1xuXHRcblx0aWYgKHRhcmdldElzVGV4dGFyZWEgJiYgbW92aWVPcHRpb25zLnBhcnNlKSB7XG5cdFx0ZXh0ZW5kKG1vdmllT3B0aW9ucywgcGFyc2VNb3ZpZURlZmluaXRpb24oaW5pdGlhbFZhbHVlLCBtb3ZpZU9wdGlvbnMpKTtcblx0XHRpbml0aWFsVmFsdWUgPSBtb3ZpZU9wdGlvbnMudmFsdWU7XG5cdFx0aWYgKG1vdmllT3B0aW9ucy5lZGl0b3JPcHRpb25zKSB7XG5cdFx0XHRleHRlbmQoZWRpdG9yT3B0aW9ucywgbW92aWVPcHRpb25zLmVkaXRvck9wdGlvbnMpO1xuXHRcdH1cblxuXHRcdC8vIHJlYWQgQ00gb3B0aW9ucyBmcm9tIGdpdmVuIHRleHRhcmVhXG5cdFx0dmFyIGNtQXR0ciA9IC9eZGF0YVxcLWNtXFwtKC4rKSQvaTtcblx0XHR0b0FycmF5KHRhcmdldC5hdHRyaWJ1dGVzKS5mb3JFYWNoKGZ1bmN0aW9uKGF0dHIpIHtcblx0XHRcdHZhciBtID0gYXR0ci5uYW1lLm1hdGNoKGNtQXR0cik7XG5cdFx0XHRpZiAobSkge1xuXHRcdFx0XHRlZGl0b3JPcHRpb25zW21bMV1dID0gYXR0ci52YWx1ZTtcblx0XHRcdH1cblx0XHR9KTtcblx0fVxuXHRcblx0Ly8gbm9ybWFsaXplIGxpbmUgZW5kaW5nc1xuXHRpbml0aWFsVmFsdWUgPSBpbml0aWFsVmFsdWUucmVwbGFjZSgvXFxyP1xcbi9nLCAnXFxuJyk7XG5cdFxuXHQvLyBsb2NhdGUgaW5pdGlhbCBjYXJldCBwb3NpdGlvbiBmcm9tIHwgc3ltYm9sXG5cdHZhciBpbml0aWFsUG9zID0gaW5pdGlhbFZhbHVlLmluZGV4T2YoJ3wnKTtcblx0XG5cdGlmICh0YXJnZXRJc1RleHRhcmVhKSB7XG5cdFx0dGFyZ2V0LnZhbHVlID0gZWRpdG9yT3B0aW9ucy52YWx1ZSA9IGluaXRpYWxWYWx1ZSA9IGluaXRpYWxWYWx1ZS5yZXBsYWNlKC9cXHwvZywgJycpO1xuXHR9XG5cblx0Ly8gY3JlYXRlIGVkaXRvciBpbnN0YW5jZSBpZiBuZWVkZWRcblx0dmFyIGVkaXRvciA9IHRhcmdldElzVGV4dGFyZWEgPyBDb2RlTWlycm9yRWRpdG9yLmZyb21UZXh0QXJlYSh0YXJnZXQsIGVkaXRvck9wdGlvbnMpIDogdGFyZ2V0O1xuXG5cdGlmIChpbml0aWFsUG9zICE9IC0xKSB7XG5cdFx0ZWRpdG9yLnNldEN1cnNvcihlZGl0b3IucG9zRnJvbUluZGV4KGluaXRpYWxQb3MpKTtcblx0fVxuXHRcblx0Ly8gc2F2ZSBpbml0aWFsIGRhdGEgc28gd2UgY2FuIHJldmVydCB0byBpdCBsYXRlclxuXHRlZGl0b3IuX19pbml0aWFsID0ge1xuXHRcdGNvbnRlbnQ6IGluaXRpYWxWYWx1ZSxcblx0XHRwb3M6IGVkaXRvci5nZXRDdXJzb3IodHJ1ZSlcblx0fTtcblx0XG5cdHZhciB3cmFwcGVyID0gZWRpdG9yLmdldFdyYXBwZXJFbGVtZW50KCk7XG5cdFxuXHQvLyBhZGp1c3QgaGVpZ2h0LCBpZiByZXF1aXJlZFxuXHRpZiAoZWRpdG9yT3B0aW9ucy5oZWlnaHQpIHtcblx0XHR3cmFwcGVyLnN0eWxlLmhlaWdodCA9IGVkaXRvck9wdGlvbnMuaGVpZ2h0ICsgJ3B4Jztcblx0fVxuXHRcblx0d3JhcHBlci5jbGFzc05hbWUgKz0gJyBDb2RlTWlycm9yLW1vdmllJztcblx0XG5cdHZhciBzYyA9IG5ldyBTY2VuYXJpbyhtb3ZpZU9wdGlvbnMuc2NlbmFyaW8sIGVkaXRvcik7XG5cdHJldHVybiBzYztcbn07XG5cbi8qKlxuICogUHJldHR5ZmllcyBrZXkgYmluZGluZ3MgcmVmZXJlbmNlcyBpbiBnaXZlbiBzdHJpbmc6IGZvcm1hdHMgaXQgYWNjb3JkaW5nXG4gKiB0byBjdXJyZW50IHVzZXLigJlzIHBsYXRmb3JtLiBUaGUga2V5IGJpbmRpbmcgc2hvdWxkIGJlIGRlZmluZWQgaW5zaWRlIFxuICogcGFyZW50aGVzZXMsIGUuZy4gPGNvZGU+KGN0cmwtYWx0LXVwKTwvY29kZT5cbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIFRyYW5zZm9ybSBvcHRpb25zXG4gKiBAcmV0dXJucyB7U3RyaW5nfVxuICovXG5mdW5jdGlvbiBwcmV0dGlmeUtleUJpbmRpbmdzKHN0ciwgb3B0aW9ucykge1xuXHRvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblx0dmFyIHJlS2V5ID0gL2N0cmx8YWx0fHNoaWZ0fGNtZC9pO1xuXHR2YXIgbWFwID0gbWFjID8gbWFjQ2hhck1hcCA6IHBjQ2hhck1hcDtcblx0cmV0dXJuIHN0ci5yZXBsYWNlKC9cXCgoLis/KVxcKS9nLCBmdW5jdGlvbihtLCBrYikge1xuXHRcdGlmIChyZUtleS50ZXN0KGtiKSkge1xuXHRcdFx0dmFyIHBhcnRzID0ga2IudG9Mb3dlckNhc2UoKVxuXHRcdFx0XHQuc3BsaXQoL1tcXC1cXCtdLylcblx0XHRcdFx0Lm1hcChrZXkgPT4gbWFwW2tleS50b0xvd2VyQ2FzZSgpXSB8fCBrZXkudG9VcHBlckNhc2UoKSk7XG5cdFx0XHRcblx0XHRcdG0gPSBwYXJ0cy5qb2luKG1hYyA/ICcnIDogJysnKTtcblx0XHRcdGlmICghb3B0aW9ucy5zdHJpcFBhcmVudGhlc2VzKSB7XG5cdFx0XHRcdG0gPSAnKCcgKyBtICsgJyknO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRcblx0XHRyZXR1cm4gbTtcblx0fSk7XG59XG5cbmZ1bmN0aW9uIHJlYWRMaW5lcyh0ZXh0KSB7XG5cdC8vIElFIGZhaWxzIHRvIHNwbGl0IHN0cmluZyBieSByZWdleHAsIFxuXHQvLyBuZWVkIHRvIG5vcm1hbGl6ZSBuZXdsaW5lcyBmaXJzdFxuXHR2YXIgbmwgPSAnXFxuJztcblx0dmFyIGxpbmVzID0gKHRleHQgfHwgJycpXG5cdFx0LnJlcGxhY2UoL1xcclxcbi9nLCBubClcblx0XHQucmVwbGFjZSgvXFxuXFxyL2csIG5sKVxuXHRcdC5yZXBsYWNlKC9cXHIvZywgbmwpXG5cdFx0LnNwbGl0KG5sKTtcblxuXHRyZXR1cm4gbGluZXMuZmlsdGVyKEJvb2xlYW4pO1xufVxuXG5mdW5jdGlvbiB1bmVzY2FwZSh0ZXh0KSB7XG5cdHZhciByZXBsYWNlbWVudHMgPSB7XG5cdFx0JyZsdDsnOiAgJzwnLFxuXHRcdCcmZ3Q7JzogICc+Jyxcblx0XHQnJmFtcDsnOiAnJidcblx0fTtcblxuXHRyZXR1cm4gdGV4dC5yZXBsYWNlKC8mKGx0fGd0fGFtcCk7L2csIGZ1bmN0aW9uKHN0ciwgcDEpIHtcblx0XHRyZXR1cm4gcmVwbGFjZW1lbnRzW3N0cl0gfHwgc3RyO1xuXHR9KTtcbn1cblxuLyoqXG4gKiBFeHRyYWN0cyBpbml0aWFsIGNvbnRlbnQgYW5kIHNjZW5hcmlvIGZyb20gZ2l2ZW4gc3RyaW5nXG4gKiBAcGFyYW0ge1N0cmluZ30gdGV4dFxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAqL1xuZnVuY3Rpb24gcGFyc2VNb3ZpZURlZmluaXRpb24odGV4dCwgb3B0aW9ucz17fSkge1xuXHRvcHRpb25zID0gZXh0ZW5kKHt9LCBkZWZhdWx0T3B0aW9ucywgb3B0aW9ucyB8fCB7fSk7XG5cdHZhciBwYXJ0cyA9IHRleHQuc3BsaXQob3B0aW9ucy5zZWN0aW9uU2VwYXJhdG9yKTtcblxuXHQvLyBwYXJzZSBzY2VuYXJpb1xuXHR2YXIgcmVEZWYgPSAvXihcXHcrKVxccyo6XFxzKiguKykkLztcblx0dmFyIHNjZW5hcmlvID0gW107XG5cdHZhciBlZGl0b3JPcHRpb25zID0ge307XG5cblx0dmFyIHNraXBDb21tZW50ID0gbGluZSA9PiBsaW5lLmNoYXJBdCgwKSAhPT0gJyMnO1xuXG5cdC8vIHJlYWQgbW92aWUgZGVmaW5pdGlvblxuXHRyZWFkTGluZXMocGFydHNbMV0pLmZpbHRlcihza2lwQ29tbWVudCkuZm9yRWFjaChmdW5jdGlvbihsaW5lKSB7XG5cdFx0Ly8gZG8gd2UgaGF2ZSBvdXRsaW5lIGRlZmluaXRpb24gaGVyZT9cblx0XHRsaW5lID0gbGluZS5yZXBsYWNlKG9wdGlvbnMub3V0bGluZVNlcGFyYXRvciwgJycpO1xuXG5cdFx0dmFyIHNkID0gbGluZS5tYXRjaChyZURlZik7XG5cdFx0aWYgKCFzZCkge1xuXHRcdFx0cmV0dXJuIHNjZW5hcmlvLnB1c2gobGluZS50cmltKCkpO1xuXHRcdH1cblx0XHRcdFxuXG5cdFx0aWYgKHNkWzJdLmNoYXJBdCgwKSA9PT0gJ3snKSB7XG5cdFx0XHR2YXIgb2JqID0ge307XG5cdFx0XHRvYmpbc2RbMV1dID0gcGFyc2VKU09OKHVuZXNjYXBlKHNkWzJdKSk7XG5cdFx0XHRyZXR1cm4gc2NlbmFyaW8ucHVzaChvYmopO1xuXHRcdH1cblxuXHRcdHNjZW5hcmlvLnB1c2goc2RbMV0gKyAnOicgKyB1bmVzY2FwZShzZFsyXSkpO1xuXHR9KTtcblxuXHQvLyByZWFkIGVkaXRvciBvcHRpb25zXG5cdGlmIChwYXJ0c1syXSkge1xuXHRcdHJlYWRMaW5lcyhwYXJ0c1syXSkuZmlsdGVyKHNraXBDb21tZW50KS5mb3JFYWNoKGZ1bmN0aW9uKGxpbmUpIHtcblx0XHRcdHZhciBzZCA9IGxpbmUubWF0Y2gocmVEZWYpO1xuXHRcdFx0aWYgKHNkKSB7XG5cdFx0XHRcdGVkaXRvck9wdGlvbnNbc2RbMV1dID0gc2RbMl07XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH1cblxuXHRyZXR1cm4ge1xuXHRcdHZhbHVlOiB1bmVzY2FwZShwYXJ0c1swXS50cmltKCkpLFxuXHRcdHNjZW5hcmlvOiBzY2VuYXJpbyxcblx0XHRlZGl0b3JPcHRpb25zOiBlZGl0b3JPcHRpb25zXG5cdH07XG59XG5cbmZ1bmN0aW9uIHNldHVwQ29kZU1pcnJvcihDb2RlTWlycm9yRWRpdG9yKSB7XG5cdGlmICgncHJldmVudEN1cnNvck1vdmVtZW50JyBpbiBDb2RlTWlycm9yRWRpdG9yLmRlZmF1bHRzKSB7XG5cdFx0cmV0dXJuO1xuXHR9XG5cblx0Q29kZU1pcnJvckVkaXRvci5kZWZpbmVPcHRpb24oJ3ByZXZlbnRDdXJzb3JNb3ZlbWVudCcsIGZhbHNlLCBjbSA9PiB7XG5cdFx0dmFyIGhhbmRsZXIgPSAoY20sIGV2ZW50KSA9PiBjbS5nZXRPcHRpb24oJ3JlYWRPbmx5JykgJiYgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHRjbS5vbigna2V5ZG93bicsIGhhbmRsZXIpO1xuXHRcdGNtLm9uKCdtb3VzZWRvd24nLCBoYW5kbGVyKTtcblx0fSk7XG59XG4iLCJpbXBvcnQgY29tbW9uQWN0aW9ucyBmcm9tICcuL2FjdGlvbnMnO1xuaW1wb3J0IHthY3Rpb25zIGFzIHByb21wdH0gZnJvbSAnLi93aWRnZXRzL3Byb21wdCc7XG5pbXBvcnQge2FjdGlvbnMgYXMgdG9vbHRpcH0gZnJvbSAnLi93aWRnZXRzL3Rvb2x0aXAnO1xuaW1wb3J0IHtleHRlbmR9IGZyb20gJy4vdXRpbHMnO1xuXG52YXIgYWN0aW9uc0RlZmluaXRpb24gPSBleHRlbmQoe30sIGNvbW1vbkFjdGlvbnMsIHByb21wdCwgdG9vbHRpcCk7XG5cbnZhciBTVEFURV9JRExFICA9ICdpZGxlJztcbnZhciBTVEFURV9QTEFZICA9ICdwbGF5JztcbnZhciBTVEFURV9QQVVTRSA9ICdwYXVzZSc7XG5cbi8vIFJlZ3VsYXIgZXhwcmVzc2lvbiB1c2VkIHRvIHNwbGl0IGV2ZW50IHN0cmluZ3NcbnZhciBldmVudFNwbGl0dGVyID0gL1xccysvO1xuXG5leHBvcnQgdmFyIGRlZmF1bHRPcHRpb25zID0ge1xuXHRiZWZvcmVEZWxheTogMTAwMCxcblx0YWZ0ZXJEZWxheTogMTAwMFxufTtcblxuLyoqXG4gKiBAcGFyYW0ge09iamVjdH0gYWN0aW9ucyBBY3Rpb25zIHNjZW5hcmlvXG4gKiBAcGFyYW0ge09iamVjdH0gZGF0YSBJbml0aWFsIGNvbnRlbnQgKDxjb2RlPlN0cmluZzwvY29kZT4pIG9yIGVkaXRvclxuICogaW5zdGFuY2UgKDxjb2RlPkNvZGVNaXJyb3I8L2NvZGU+KVxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTY2VuYXJpbyB7XG5cdGNvbnN0cnVjdG9yKGFjdGlvbnMsIGRhdGEpIHtcblx0XHR0aGlzLl9hY3Rpb25zID0gYWN0aW9ucztcblx0XHR0aGlzLl9lZGl0b3IgPSBudWxsO1xuXHRcdHRoaXMuX3N0YXRlID0gU1RBVEVfSURMRTtcblx0XHR0aGlzLl90aW1lclF1ZXVlID0gW107XG5cdFx0XG5cdFx0aWYgKGRhdGEgJiYgJ2dldFZhbHVlJyBpbiBkYXRhKSB7XG5cdFx0XHR0aGlzLl9lZGl0b3IgPSBkYXRhO1xuXHRcdH1cblx0XHRcblx0XHR2YXIgZWQgPSB0aGlzLl9lZGl0b3I7XG5cdFx0aWYgKGVkICYmICFlZC5fX2luaXRpYWwpIHtcblx0XHRcdGVkLl9faW5pdGlhbCA9IHtcblx0XHRcdFx0Y29udGVudDogZWQuZ2V0VmFsdWUoKSxcblx0XHRcdFx0cG9zOiBlZC5nZXRDdXJzb3IodHJ1ZSlcblx0XHRcdH07XG5cdFx0fVxuXHR9XG5cblx0X3NldHVwKGVkaXRvcikge1xuXHRcdGlmICghZWRpdG9yICYmIHRoaXMuX2VkaXRvcikge1xuXHRcdFx0ZWRpdG9yID0gdGhpcy5fZWRpdG9yO1xuXHRcdH1cblx0XHRcblx0XHRlZGl0b3IuZXhlY0NvbW1hbmQoJ3JldmVydCcpO1xuXHRcdHJldHVybiBlZGl0b3I7XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBQbGF5IGN1cnJlbnQgc2NlbmFyaW9cblx0ICogQHBhcmFtIHtDb2RlTWlycm9yfSBlZGl0b3IgRWRpdG9yIGluc3RhbmNlIHdoZXJlIG9uIHdoaWNoIHNjZW5hcmlvIFxuXHQgKiBzaG91bGQgYmUgcGxheWVkXG5cdCAqIEBtZW1iZXJPZiBTY2VuYXJpb1xuXHQgKi9cblx0cGxheShlZGl0b3IpIHtcblx0XHRpZiAodGhpcy5fc3RhdGUgPT09IFNUQVRFX1BMQVkpIHtcblx0XHRcdC8vIGFscmVhZHkgcGxheWluZ1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHRcblx0XHRpZiAodGhpcy5fc3RhdGUgPT09IFNUQVRFX1BBVVNFKSB7XG5cdFx0XHQvLyByZXZlcnQgZnJvbSBwYXVzZWQgc3RhdGVcblx0XHRcdGVkaXRvciA9IGVkaXRvciB8fCB0aGlzLl9lZGl0b3I7XG5cdFx0XHRlZGl0b3IuZm9jdXMoKTtcblx0XHRcdHZhciB0aW1lck9iaiA9IG51bGw7XG5cdFx0XHR3aGlsZSAodGltZXJPYmogPSB0aGlzLl90aW1lclF1ZXVlLnNoaWZ0KCkpIHtcblx0XHRcdFx0cmVxdWVzdFRpbWVyKHRpbWVyT2JqLmZuLCB0aW1lck9iai5kZWxheSk7XG5cdFx0XHR9XG5cdFx0XHRcblx0XHRcdHRoaXMuX3N0YXRlID0gU1RBVEVfUExBWTtcblx0XHRcdHRoaXMudHJpZ2dlcigncmVzdW1lJyk7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdFxuXHRcdHRoaXMuX2VkaXRvciA9IGVkaXRvciA9IHRoaXMuX3NldHVwKGVkaXRvcik7XG5cdFx0ZWRpdG9yLmZvY3VzKCk7XG5cdFx0XG5cdFx0dmFyIHRpbWVyID0gdGhpcy5yZXF1ZXN0VGltZXIuYmluZCh0aGlzKTtcblxuXHRcdHZhciBnb3RvQWN0aW9uID0gYWN0aW9uSXggPT4ge1xuXHRcdFx0aWYgKGFjdGlvbkl4ID49IHRoaXMuX2FjdGlvbnMubGVuZ3RoKSB7XG5cdFx0XHRcdHJldHVybiB0aW1lcigoKSA9PiB7XG5cdFx0XHRcdFx0dGhpcy5zdG9wKCk7XG5cdFx0XHRcdH0sIGRlZmF1bHRPcHRpb25zLmFmdGVyRGVsYXkpO1xuXHRcdFx0fVxuXG5cdFx0XHR0aGlzLnRyaWdnZXIoJ2FjdGlvbicsIGFjdGlvbkl4KTtcblxuXHRcdFx0dmFyIGFjdGlvbiA9IHBhcnNlQWN0aW9uQ2FsbCh0aGlzLl9hY3Rpb25zW2FjdGlvbkl4XSk7XG5cblx0XHRcdGxldCBwcmV2ID0gbnVsbFxuXHRcdFx0Zm9yIChsZXQgaSA9IGFjdGlvbkl4IC0gMTsgaSA+PSAwOyBpLS0pIHtcblx0XHRcdFx0Y29uc3Qgb25lQWN0aW9uID0gcGFyc2VBY3Rpb25DYWxsKHRoaXMuX2FjdGlvbnNbaV0pXG5cdFx0XHRcdGlmIChvbmVBY3Rpb24ubmFtZSA9PT0gJ3Rvb2x0aXAnKSB7XG5cdFx0XHRcdFx0cHJldiA9ICgpID0+IGdvdG9BY3Rpb24oYWN0aW9uSXggLSAxKVxuXHRcdFx0XHRcdGJyZWFrXG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0bGV0IG5leHQgPSBudWxsXG5cdFx0XHRmb3IgKGxldCBpID0gYWN0aW9uSXggKyAxOyBpIDwgdGhpcy5fYWN0aW9ucy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRjb25zdCBvbmVBY3Rpb24gPSBwYXJzZUFjdGlvbkNhbGwodGhpcy5fYWN0aW9uc1tpXSlcblx0XHRcdFx0aWYgKG9uZUFjdGlvbi5uYW1lID09PSAndG9vbHRpcCcpIHtcblx0XHRcdFx0XHRuZXh0ID0gKCkgPT4gZ290b0FjdGlvbihhY3Rpb25JeCArIDEpXG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0aWYgKGFjdGlvbi5uYW1lIGluIGFjdGlvbnNEZWZpbml0aW9uKSB7XG5cdFx0XHRcdGFjdGlvbnNEZWZpbml0aW9uW2FjdGlvbi5uYW1lXSh7XG5cdFx0XHRcdFx0b3B0aW9uczogYWN0aW9uLm9wdGlvbnMsXG5cdFx0XHRcdFx0ZWRpdG9yLFxuXHRcdFx0XHRcdG5leHQsXG5cdFx0XHRcdFx0cHJldixcblx0XHRcdFx0XHR0aW1lclxuXHRcdFx0XHR9KTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcignTm8gc3VjaCBhY3Rpb246ICcgKyBhY3Rpb24ubmFtZSk7XG5cdFx0XHR9XG5cdFx0fTtcblxuXHRcdHRoaXMuX3N0YXRlID0gU1RBVEVfUExBWTtcblx0XHR0aGlzLl9lZGl0b3Iuc2V0T3B0aW9uKCdyZWFkT25seScsIHRydWUpO1xuXHRcdHRoaXMudHJpZ2dlcigncGxheScpO1xuXHRcdHRpbWVyKCgpID0+IGdvdG9BY3Rpb24oMCksIGRlZmF1bHRPcHRpb25zLmJlZm9yZURlbGF5KTtcblx0fVxuXHRcblx0LyoqXG5cdCAqIFBhdXNlIGN1cnJlbnQgc2NlbmFyaW8gcGxheWJhY2suIEl0IGNhbiBiZSByZXN0b3JlZCB3aXRoIFxuXHQgKiA8Y29kZT5wbGF5KCk8L2NvZGU+IG1ldGhvZCBjYWxsIFxuXHQgKi9cblx0cGF1c2UoKSB7XG5cdFx0dGhpcy5fc3RhdGUgPSBTVEFURV9QQVVTRTtcblx0XHR0aGlzLnRyaWdnZXIoJ3BhdXNlJyk7XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBTdG9wcyBwbGF5YmFjayBvZiBjdXJyZW50IHNjZW5hcmlvXG5cdCAqL1xuXHRzdG9wKCkge1xuXHRcdGlmICh0aGlzLl9zdGF0ZSAhPT0gU1RBVEVfSURMRSkge1xuXHRcdFx0dGhpcy5fc3RhdGUgPSBTVEFURV9JRExFO1xuXHRcdFx0dGhpcy5fdGltZXJRdWV1ZS5sZW5ndGggPSAwO1xuXHRcdFx0dGhpcy5fZWRpdG9yLnNldE9wdGlvbigncmVhZE9ubHknLCBmYWxzZSk7XG5cdFx0XHR0aGlzLnRyaWdnZXIoJ3N0b3AnKTtcblx0XHR9XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBSZXR1cm5zIGN1cnJlbnQgcGxheWJhY2sgc3RhdGVcblx0ICogQHJldHVybiB7U3RyaW5nfVxuXHQgKi9cblx0Z2V0IHN0YXRlKCkge1xuXHRcdHJldHVybiB0aGlzLl9zdGF0ZTtcblx0fVxuXHRcblx0LyoqXG5cdCAqIFRvZ2dsZSBwbGF5YmFjayBvZiBtb3ZpZSBzY2VuYXJpb1xuXHQgKi9cblx0dG9nZ2xlKCkge1xuXHRcdGlmICh0aGlzLl9zdGF0ZSA9PT0gU1RBVEVfUExBWSkge1xuXHRcdFx0dGhpcy5wYXVzZSgpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLnBsYXkoKTtcblx0XHR9XG5cdH1cblx0XG5cdHJlcXVlc3RUaW1lcihmbiwgZGVsYXkpIHtcblx0XHRpZiAodGhpcy5fc3RhdGUgIT09IFNUQVRFX1BMQVkpIHtcblx0XHRcdC8vIHNhdmUgZnVuY3Rpb24gY2FsbCBpbnRvIGEgcXVldWUgdGlsbCBuZXh0ICdwbGF5KCknIGNhbGxcblx0XHRcdHRoaXMuX3RpbWVyUXVldWUucHVzaCh7XG5cdFx0XHRcdGZuOiBmbixcblx0XHRcdFx0ZGVsYXk6IGRlbGF5XG5cdFx0XHR9KTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmV0dXJuIHJlcXVlc3RUaW1lcihmbiwgZGVsYXkpO1xuXHRcdH1cblx0fVxuXHRcblx0Ly8gYm9ycm93ZWQgZnJvbSBCYWNrYm9uZVxuXHQvKipcblx0ICogQmluZCBvbmUgb3IgbW9yZSBzcGFjZSBzZXBhcmF0ZWQgZXZlbnRzLCBgZXZlbnRzYCwgdG8gYSBgY2FsbGJhY2tgXG5cdCAqIGZ1bmN0aW9uLiBQYXNzaW5nIGBcImFsbFwiYCB3aWxsIGJpbmQgdGhlIGNhbGxiYWNrIHRvIGFsbCBldmVudHMgZmlyZWQuXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBldmVudHNcblx0ICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcblx0ICogQHBhcmFtIHtPYmplY3R9IGNvbnRleHRcblx0ICogQG1lbWJlck9mIGV2ZW50RGlzcGF0Y2hlclxuXHQgKi9cblx0b24oZXZlbnRzLCBjYWxsYmFjaywgY29udGV4dCkge1xuXHRcdHZhciBjYWxscywgZXZlbnQsIG5vZGUsIHRhaWwsIGxpc3Q7XG5cdFx0aWYgKCFjYWxsYmFjaykge1xuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fVxuXHRcdFxuXHRcdGV2ZW50cyA9IGV2ZW50cy5zcGxpdChldmVudFNwbGl0dGVyKTtcblx0XHRjYWxscyA9IHRoaXMuX2NhbGxiYWNrcyB8fCAodGhpcy5fY2FsbGJhY2tzID0ge30pO1xuXG5cdFx0Ly8gQ3JlYXRlIGFuIGltbXV0YWJsZSBjYWxsYmFjayBsaXN0LCBhbGxvd2luZyB0cmF2ZXJzYWwgZHVyaW5nXG5cdFx0Ly8gbW9kaWZpY2F0aW9uLiAgVGhlIHRhaWwgaXMgYW4gZW1wdHkgb2JqZWN0IHRoYXQgd2lsbCBhbHdheXMgYmUgdXNlZFxuXHRcdC8vIGFzIHRoZSBuZXh0IG5vZGUuXG5cdFx0d2hpbGUgKGV2ZW50ID0gZXZlbnRzLnNoaWZ0KCkpIHtcblx0XHRcdGxpc3QgPSBjYWxsc1tldmVudF07XG5cdFx0XHRub2RlID0gbGlzdCA/IGxpc3QudGFpbCA6IHt9O1xuXHRcdFx0bm9kZS5uZXh0ID0gdGFpbCA9IHt9O1xuXHRcdFx0bm9kZS5jb250ZXh0ID0gY29udGV4dDtcblx0XHRcdG5vZGUuY2FsbGJhY2sgPSBjYWxsYmFjaztcblx0XHRcdGNhbGxzW2V2ZW50XSA9IHtcblx0XHRcdFx0dGFpbCA6IHRhaWwsXG5cdFx0XHRcdG5leHQgOiBsaXN0ID8gbGlzdC5uZXh0IDogbm9kZVxuXHRcdFx0fTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcztcblx0fVxuXG5cdC8qKlxuXHQgKiBSZW1vdmUgb25lIG9yIG1hbnkgY2FsbGJhY2tzLiBJZiBgY29udGV4dGAgaXMgbnVsbCwgcmVtb3ZlcyBhbGxcblx0ICogY2FsbGJhY2tzIHdpdGggdGhhdCBmdW5jdGlvbi4gSWYgYGNhbGxiYWNrYCBpcyBudWxsLCByZW1vdmVzIGFsbFxuXHQgKiBjYWxsYmFja3MgZm9yIHRoZSBldmVudC4gSWYgYGV2ZW50c2AgaXMgbnVsbCwgcmVtb3ZlcyBhbGwgYm91bmRcblx0ICogY2FsbGJhY2tzIGZvciBhbGwgZXZlbnRzLlxuXHQgKiBAcGFyYW0ge1N0cmluZ30gZXZlbnRzXG5cdCAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBjb250ZXh0XG5cdCAqL1xuXHRvZmYoZXZlbnRzLCBjYWxsYmFjaywgY29udGV4dCkge1xuXHRcdHZhciBldmVudCwgY2FsbHMsIG5vZGUsIHRhaWwsIGNiLCBjdHg7XG5cblx0XHQvLyBObyBldmVudHMsIG9yIHJlbW92aW5nICphbGwqIGV2ZW50cy5cblx0XHRpZiAoIShjYWxscyA9IHRoaXMuX2NhbGxiYWNrcykpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0XG5cdFx0aWYgKCEoZXZlbnRzIHx8IGNhbGxiYWNrIHx8IGNvbnRleHQpKSB7XG5cdFx0XHRkZWxldGUgdGhpcy5fY2FsbGJhY2tzO1xuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fVxuXG5cdFx0Ly8gTG9vcCB0aHJvdWdoIHRoZSBsaXN0ZWQgZXZlbnRzIGFuZCBjb250ZXh0cywgc3BsaWNpbmcgdGhlbSBvdXQgb2YgdGhlXG5cdFx0Ly8gbGlua2VkIGxpc3Qgb2YgY2FsbGJhY2tzIGlmIGFwcHJvcHJpYXRlLlxuXHRcdGV2ZW50cyA9IGV2ZW50cyA/IGV2ZW50cy5zcGxpdChldmVudFNwbGl0dGVyKSA6IE9iamVjdC5rZXlzKGNhbGxzKTtcblx0XHR3aGlsZSAoZXZlbnQgPSBldmVudHMuc2hpZnQoKSkge1xuXHRcdFx0bm9kZSA9IGNhbGxzW2V2ZW50XTtcblx0XHRcdGRlbGV0ZSBjYWxsc1tldmVudF07XG5cdFx0XHRpZiAoIW5vZGUgfHwgIShjYWxsYmFjayB8fCBjb250ZXh0KSkge1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblx0XHRcdFxuXHRcdFx0Ly8gQ3JlYXRlIGEgbmV3IGxpc3QsIG9taXR0aW5nIHRoZSBpbmRpY2F0ZWQgY2FsbGJhY2tzLlxuXHRcdFx0dGFpbCA9IG5vZGUudGFpbDtcblx0XHRcdHdoaWxlICgobm9kZSA9IG5vZGUubmV4dCkgIT09IHRhaWwpIHtcblx0XHRcdFx0Y2IgPSBub2RlLmNhbGxiYWNrO1xuXHRcdFx0XHRjdHggPSBub2RlLmNvbnRleHQ7XG5cdFx0XHRcdGlmICgoY2FsbGJhY2sgJiYgY2IgIT09IGNhbGxiYWNrKSB8fCAoY29udGV4dCAmJiBjdHggIT09IGNvbnRleHQpKSB7XG5cdFx0XHRcdFx0dGhpcy5vbihldmVudCwgY2IsIGN0eCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcztcblx0fVxuXHRcblx0LyoqXG5cdCAqIFRyaWdnZXIgb25lIG9yIG1hbnkgZXZlbnRzLCBmaXJpbmcgYWxsIGJvdW5kIGNhbGxiYWNrcy4gQ2FsbGJhY2tzIGFyZVxuXHQgKiBwYXNzZWQgdGhlIHNhbWUgYXJndW1lbnRzIGFzIGB0cmlnZ2VyYCBpcywgYXBhcnQgZnJvbSB0aGUgZXZlbnQgbmFtZVxuXHQgKiAodW5sZXNzIHlvdSdyZSBsaXN0ZW5pbmcgb24gYFwiYWxsXCJgLCB3aGljaCB3aWxsIGNhdXNlIHlvdXIgY2FsbGJhY2tcblx0ICogdG8gcmVjZWl2ZSB0aGUgdHJ1ZSBuYW1lIG9mIHRoZSBldmVudCBhcyB0aGUgZmlyc3QgYXJndW1lbnQpLlxuXHQgKiBAcGFyYW0ge1N0cmluZ30gZXZlbnRzXG5cdCAqL1xuXHR0cmlnZ2VyKGV2ZW50cywgLi4ucmVzdCkge1xuXHRcdHZhciBldmVudCwgbm9kZSwgY2FsbHMsIHRhaWwsIGFyZ3MsIGFsbDtcblx0XHRpZiAoIShjYWxscyA9IHRoaXMuX2NhbGxiYWNrcykpIHtcblx0XHRcdHJldHVybiB0aGlzO1xuXHRcdH1cblx0XHRcblx0XHRhbGwgPSBjYWxscy5hbGw7XG5cdFx0ZXZlbnRzID0gZXZlbnRzLnNwbGl0KGV2ZW50U3BsaXR0ZXIpO1xuXG5cdFx0Ly8gRm9yIGVhY2ggZXZlbnQsIHdhbGsgdGhyb3VnaCB0aGUgbGlua2VkIGxpc3Qgb2YgY2FsbGJhY2tzIHR3aWNlLFxuXHRcdC8vIGZpcnN0IHRvIHRyaWdnZXIgdGhlIGV2ZW50LCB0aGVuIHRvIHRyaWdnZXIgYW55IGBcImFsbFwiYCBjYWxsYmFja3MuXG5cdFx0d2hpbGUgKGV2ZW50ID0gZXZlbnRzLnNoaWZ0KCkpIHtcblx0XHRcdGlmIChub2RlID0gY2FsbHNbZXZlbnRdKSB7XG5cdFx0XHRcdHRhaWwgPSBub2RlLnRhaWw7XG5cdFx0XHRcdHdoaWxlICgobm9kZSA9IG5vZGUubmV4dCkgIT09IHRhaWwpIHtcblx0XHRcdFx0XHRub2RlLmNhbGxiYWNrLmFwcGx5KG5vZGUuY29udGV4dCB8fCB0aGlzLCByZXN0KTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0aWYgKG5vZGUgPSBhbGwpIHtcblx0XHRcdFx0dGFpbCA9IG5vZGUudGFpbDtcblx0XHRcdFx0YXJncyA9IFsgZXZlbnQgXS5jb25jYXQocmVzdCk7XG5cdFx0XHRcdHdoaWxlICgobm9kZSA9IG5vZGUubmV4dCkgIT09IHRhaWwpIHtcblx0XHRcdFx0XHRub2RlLmNhbGxiYWNrLmFwcGx5KG5vZGUuY29udGV4dCB8fCB0aGlzLCBhcmdzKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzO1xuXHR9XG59O1xuXG4vKipcbiAqIFBhcnNlcyBhY3Rpb24gY2FsbCBmcm9tIHN0cmluZ1xuICogQHBhcmFtIHtTdHJpbmd9IGRhdGFcbiAqIEByZXR1cm5zIHtPYmplY3R9XG4gKi9cbmZ1bmN0aW9uIHBhcnNlQWN0aW9uQ2FsbChkYXRhKSB7XG5cdGlmICh0eXBlb2YgZGF0YSA9PT0gJ3N0cmluZycpIHtcblx0XHR2YXIgcGFydHMgPSBkYXRhLnNwbGl0KCc6Jyk7XG5cdFx0cmV0dXJuIHtcblx0XHRcdG5hbWU6IHBhcnRzLnNoaWZ0KCksXG5cdFx0XHRvcHRpb25zOiBwYXJ0cy5qb2luKCc6Jylcblx0XHR9O1xuXHR9IGVsc2Uge1xuXHRcdHZhciBuYW1lID0gT2JqZWN0LmtleXMoZGF0YSlbMF07XG5cdFx0cmV0dXJuIHtcblx0XHRcdG5hbWU6IG5hbWUsXG5cdFx0XHRvcHRpb25zOiBkYXRhW25hbWVdXG5cdFx0fTtcblx0fVxufVxuXG5mdW5jdGlvbiByZXF1ZXN0VGltZXIoZm4sIGRlbGF5KSB7XG5cdGlmICghZGVsYXkpIHtcblx0XHRmbigpO1xuXHR9IGVsc2Uge1xuXHRcdHJldHVybiBzZXRUaW1lb3V0KGZuLCBkZWxheSk7XG5cdH1cbn0iLCJ2YXIgcHJvcENhY2hlID0ge307XG5cbi8vIGRldGVjdCBDU1MgM0QgVHJhbnNmb3JtcyBmb3Igc21vb3RoZXIgYW5pbWF0aW9ucyBcbmV4cG9ydCB2YXIgaGFzM2QgPSAoZnVuY3Rpb24oKSB7XG5cdHZhciBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXHR2YXIgY3NzVHJhbnNmb3JtID0gcHJlZml4ZWQoJ3RyYW5zZm9ybScpO1xuXHRpZiAoY3NzVHJhbnNmb3JtKSB7XG5cdFx0ZWwuc3R5bGVbY3NzVHJhbnNmb3JtXSA9ICd0cmFuc2xhdGVaKDApJztcblx0XHRyZXR1cm4gKC90cmFuc2xhdGV6L2kpLnRlc3QoZWwuc3R5bGVbY3NzVHJhbnNmb3JtXSk7IFxuXHR9XG5cdFxuXHRyZXR1cm4gZmFsc2U7XG59KSgpO1xuXG5leHBvcnQgZnVuY3Rpb24gZXh0ZW5kKG9iaiwgLi4uYXJncykge1xuXHRhcmdzLmZvckVhY2goYSA9PiB7XG5cdFx0aWYgKHR5cGVvZiBhID09PSAnb2JqZWN0Jykge1xuXHRcdFx0T2JqZWN0LmtleXMoYSkuZm9yRWFjaChrZXkgPT4gb2JqW2tleV0gPSBhW2tleV0pO1xuXHRcdH1cblx0fSk7XG5cdHJldHVybiBvYmo7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0b0FycmF5KG9iaiwgaXg9MCkge1xuXHRyZXR1cm4gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwob2JqLCBpeCk7XG59XG5cbi8qKlxuICogUmV0dXJucyBwcmVmaXhlZCAoaWYgcmVxdWlyZWQpIENTUyBwcm9wZXJ0eSBuYW1lXG4gKiBAcGFyYW0gIHtTdHJpbmd9IHByb3BcbiAqIEByZXR1cm4ge1N0cmluZ31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHByZWZpeGVkKHByb3ApIHtcblx0aWYgKHByb3AgaW4gcHJvcENhY2hlKSB7XG5cdFx0cmV0dXJuIHByb3BDYWNoZVtwcm9wXTtcblx0fVxuXG5cdHZhciBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXHR2YXIgc3R5bGUgPSBlbC5zdHlsZTtcblxuXHR2YXIgcHJlZml4ZXMgPSBbJ28nLCAnbXMnLCAnbW96JywgJ3dlYmtpdCddO1xuXHR2YXIgcHJvcHMgPSBbcHJvcF07XG5cdHZhciBjYXBpdGFsaXplID0gZnVuY3Rpb24oc3RyKSB7XG5cdFx0cmV0dXJuIHN0ci5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHN0ci5zdWJzdHIoMSk7XG5cdH07XG5cblx0cHJvcCA9IHByb3AucmVwbGFjZSgvXFwtKFthLXpdKS9nLCBmdW5jdGlvbihzdHIsIGNoKSB7XG5cdFx0cmV0dXJuIGNoLnRvVXBwZXJDYXNlKCk7XG5cdH0pO1xuXG5cdHZhciBjYXBQcm9wID0gY2FwaXRhbGl6ZShwcm9wKTtcblx0cHJlZml4ZXMuZm9yRWFjaChmdW5jdGlvbihwcmVmaXgpIHtcblx0XHRwcm9wcy5wdXNoKHByZWZpeCArIGNhcFByb3AsIGNhcGl0YWxpemUocHJlZml4KSArIGNhcFByb3ApO1xuXHR9KTtcblxuXHRmb3IgKHZhciBpID0gMCwgaWwgPSBwcm9wcy5sZW5ndGg7IGkgPCBpbDsgaSsrKSB7XG5cdFx0aWYgKHByb3BzW2ldIGluIHN0eWxlKSB7XG5cdFx0XHRyZXR1cm4gcHJvcENhY2hlW3Byb3BdID0gcHJvcHNbaV07XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIHByb3BDYWNoZVtwcm9wXSA9IG51bGw7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwb3NPYmoob2JqKSB7XG5cdHJldHVybiB7XG5cdFx0bGluZTogb2JqLmxpbmUsXG5cdFx0Y2g6IG9iai5jaFxuXHR9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q3Vyc29yKGVkaXRvciwgc3RhcnQ9J2Zyb20nKSB7XG5cdHJldHVybiBwb3NPYmooZWRpdG9yLmdldEN1cnNvcihzdGFydCkpO1xufVxuXG4vKipcbiAqIEhlbHBlciBmdW5jdGlvbiB0aGF0IHByb2R1Y2VzIDxjb2RlPntsaW5lLCBjaH08L2NvZGU+IG9iamVjdCBmcm9tXG4gKiBwYXNzZWQgYXJndW1lbnRcbiAqIEBwYXJhbSB7T2JqZWN0fSBwb3NcbiAqIEBwYXJhbSB7Q29kZU1pcnJvcn0gZWRpdG9yXG4gKiBAcmV0dXJucyB7T2JqZWN0fVxuICovXG5leHBvcnQgZnVuY3Rpb24gbWFrZVBvcyhwb3MsIGVkaXRvcikge1xuXHRpZiAocG9zID09PSAnY2FyZXQnKSB7XG5cdFx0cmV0dXJuIGdldEN1cnNvcihlZGl0b3IpO1xuXHR9XG5cblx0aWYgKHR5cGVvZiBwb3MgPT09ICdzdHJpbmcnKSB7XG5cdFx0aWYgKH5wb3MuaW5kZXhPZignOicpKSB7XG5cdFx0XHRsZXQgcGFydHMgPSBwb3Muc3BsaXQoJzonKTtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdGxpbmU6ICtwYXJ0c1swXSxcblx0XHRcdFx0Y2g6ICtwYXJ0c1sxXVxuXHRcdFx0fTtcblx0XHR9XG5cdFx0XG5cdFx0cG9zID0gK3Bvcztcblx0fVxuXHRcblx0aWYgKHR5cGVvZiBwb3MgPT09ICdudW1iZXInKSB7XG5cdFx0cmV0dXJuIHBvc09iaihlZGl0b3IucG9zRnJvbUluZGV4KHBvcykpO1xuXHR9XG5cdFxuXHRyZXR1cm4gcG9zT2JqKHBvcyk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0ZW1wbGF0ZSh0bXBsLCBkYXRhKSB7XG5cdHZhciBmbiA9IGRhdGEgPT4gdG1wbC5yZXBsYWNlKC88JShbLT1dKT9cXHMqKFtcXHdcXC1dKylcXHMqJT4vZywgKHN0ciwgb3AsIGtleSkgPT4gZGF0YVtrZXkudHJpbSgpXSk7XG5cdHJldHVybiBkYXRhID8gZm4oZGF0YSkgOiBmbjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZpbmQoYXJyLCBpdGVyKSB7XG5cdHZhciBmb3VuZDtcblx0YXJyLnNvbWUoKGl0ZW0sIGksIGFycikgPT4ge1xuXHRcdGlmIChpdGVyKGl0ZW0sIGksIGFycikpIHtcblx0XHRcdHJldHVybiBmb3VuZCA9IGl0ZW07XG5cdFx0fVxuXHR9KTtcblx0cmV0dXJuIGZvdW5kO1xufVxuXG4vKipcbiAqIFJlbGF4ZWQgSlNPTiBwYXJzZXIuXG4gKiBAcGFyYW0ge1N0cmluZ30gdGV4dFxuICogQHJldHVybnMge09iamVjdH0gXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZUpTT04odGV4dCkge1xuXHR0cnkge1xuXHRcdHJldHVybiAobmV3IEZ1bmN0aW9uKCdyZXR1cm4gJyArIHRleHQpKSgpO1xuXHR9IGNhdGNoKGUpIHtcblx0XHRyZXR1cm4ge307XG5cdH1cbn0iLCJ2YXIgZ2xvYmFsID0gd2luZG93O1xudmFyIHRpbWUgPSBEYXRlLm5vdyBcblx0PyBmdW5jdGlvbigpIHtyZXR1cm4gRGF0ZS5ub3coKTt9XG5cdDogZnVuY3Rpb24oKSB7cmV0dXJuICtuZXcgRGF0ZTt9O1xuXG52YXIgaW5kZXhPZiA9ICdpbmRleE9mJyBpbiBBcnJheS5wcm90b3R5cGVcblx0PyBmdW5jdGlvbihhcnJheSwgdmFsdWUpIHtyZXR1cm4gYXJyYXkuaW5kZXhPZih2YWx1ZSk7fVxuXHQ6IGZ1bmN0aW9uKGFycmF5LCB2YWx1ZSkge1xuXHRcdGZvciAodmFyIGkgPSAwLCBpbCA9IGFycmF5Lmxlbmd0aDsgaSA8IGlsOyBpKyspIHtcblx0XHRcdGlmIChhcnJheVtpXSA9PT0gdmFsdWUpIHtcblx0XHRcdFx0cmV0dXJuIGk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIC0xO1xuXHR9O1xuXG5mdW5jdGlvbiBleHRlbmQob2JqKSB7XG5cdGZvciAodmFyIGkgPSAxLCBpbCA9IGFyZ3VtZW50cy5sZW5ndGgsIHNvdXJjZTsgaSA8IGlsOyBpKyspIHtcblx0XHRzb3VyY2UgPSBhcmd1bWVudHNbaV07XG5cdFx0aWYgKHNvdXJjZSkge1xuXHRcdFx0Zm9yICh2YXIgcHJvcCBpbiBzb3VyY2UpIHtcblx0XHRcdFx0b2JqW3Byb3BdID0gc291cmNlW3Byb3BdO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdHJldHVybiBvYmo7XG59XG5cbi8qKlxuICogcmVxdWVzdEFuaW1hdGlvbkZyYW1lIHBvbHlmaWxsIGJ5IEVyaWsgTcO2bGxlclxuICogZml4ZXMgZnJvbSBQYXVsIElyaXNoIGFuZCBUaW5vIFppamRlbFxuICogaHR0cDovL3BhdWxpcmlzaC5jb20vMjAxMS9yZXF1ZXN0YW5pbWF0aW9uZnJhbWUtZm9yLXNtYXJ0LWFuaW1hdGluZy9cbiAqIGh0dHA6Ly9teS5vcGVyYS5jb20vZW1vbGxlci9ibG9nLzIwMTEvMTIvMjAvcmVxdWVzdGFuaW1hdGlvbmZyYW1lLWZvci1zbWFydC1lci1hbmltYXRpbmdcbiAqL1xuKGZ1bmN0aW9uKCkge1xuXHR2YXIgbGFzdFRpbWUgPSAwO1xuXHR2YXIgdmVuZG9ycyA9IFsgJ21zJywgJ21veicsICd3ZWJraXQnLCAnbycgXTtcblx0Zm9yICh2YXIgeCA9IDA7IHggPCB2ZW5kb3JzLmxlbmd0aCAmJiAhZ2xvYmFsLnJlcXVlc3RBbmltYXRpb25GcmFtZTsgKyt4KSB7XG5cdFx0Z2xvYmFsLnJlcXVlc3RBbmltYXRpb25GcmFtZSA9IGdsb2JhbFt2ZW5kb3JzW3hdICsgJ1JlcXVlc3RBbmltYXRpb25GcmFtZSddO1xuXHRcdGdsb2JhbC5jYW5jZWxBbmltYXRpb25GcmFtZSA9IGdsb2JhbFt2ZW5kb3JzW3hdICsgJ0NhbmNlbEFuaW1hdGlvbkZyYW1lJ11cblx0XHRcdFx0fHwgZ2xvYmFsW3ZlbmRvcnNbeF0gKyAnQ2FuY2VsUmVxdWVzdEFuaW1hdGlvbkZyYW1lJ107XG5cdH1cblx0XG5cdGlmICghZ2xvYmFsLnJlcXVlc3RBbmltYXRpb25GcmFtZSlcblx0XHRnbG9iYWwucmVxdWVzdEFuaW1hdGlvbkZyYW1lID0gZnVuY3Rpb24oY2FsbGJhY2ssIGVsZW1lbnQpIHtcblx0XHRcdHZhciBjdXJyVGltZSA9IHRpbWUoKTtcblx0XHRcdHZhciB0aW1lVG9DYWxsID0gTWF0aC5tYXgoMCwgMTYgLSAoY3VyclRpbWUgLSBsYXN0VGltZSkpO1xuXHRcdFx0dmFyIGlkID0gZ2xvYmFsLnNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGNhbGxiYWNrKGN1cnJUaW1lICsgdGltZVRvQ2FsbCk7XG5cdFx0XHR9LCB0aW1lVG9DYWxsKTtcblx0XHRcdGxhc3RUaW1lID0gY3VyclRpbWUgKyB0aW1lVG9DYWxsO1xuXHRcdFx0cmV0dXJuIGlkO1xuXHRcdH07XG5cblx0aWYgKCFnbG9iYWwuY2FuY2VsQW5pbWF0aW9uRnJhbWUpXG5cdFx0Z2xvYmFsLmNhbmNlbEFuaW1hdGlvbkZyYW1lID0gZnVuY3Rpb24oaWQpIHtcblx0XHRcdGNsZWFyVGltZW91dChpZCk7XG5cdFx0fTtcbn0oKSk7XG5cblxudmFyIGR1bW15Rm4gPSBmdW5jdGlvbigpIHt9O1xudmFyIGFuaW1zID0gW107XG52YXIgaWRDb3VudGVyID0gMDtcblxudmFyIGRlZmF1bHRzID0ge1xuXHRkdXJhdGlvbjogNTAwLCAvLyBtc1xuXHRkZWxheTogMCxcblx0ZWFzaW5nOiAnbGluZWFyJyxcblx0c3RhcnQ6IGR1bW15Rm4sXG5cdHN0ZXA6IGR1bW15Rm4sXG5cdGNvbXBsZXRlOiBkdW1teUZuLFxuXHRhdXRvc3RhcnQ6IHRydWUsXG5cdHJldmVyc2U6IGZhbHNlXG59O1xuXG5leHBvcnQgdmFyIGVhc2luZ3MgPSB7XG5cdGxpbmVhcjogZnVuY3Rpb24odCwgYiwgYywgZCkge1xuXHRcdHJldHVybiBjICogdCAvIGQgKyBiO1xuXHR9LFxuXHRpblF1YWQ6IGZ1bmN0aW9uKHQsIGIsIGMsIGQpIHtcblx0XHRyZXR1cm4gYyoodC89ZCkqdCArIGI7XG5cdH0sXG5cdG91dFF1YWQ6IGZ1bmN0aW9uKHQsIGIsIGMsIGQpIHtcblx0XHRyZXR1cm4gLWMgKih0Lz1kKSoodC0yKSArIGI7XG5cdH0sXG5cdGluT3V0UXVhZDogZnVuY3Rpb24odCwgYiwgYywgZCkge1xuXHRcdGlmKCh0Lz1kLzIpIDwgMSkgcmV0dXJuIGMvMip0KnQgKyBiO1xuXHRcdHJldHVybiAtYy8yICooKC0tdCkqKHQtMikgLSAxKSArIGI7XG5cdH0sXG5cdGluQ3ViaWM6IGZ1bmN0aW9uKHQsIGIsIGMsIGQpIHtcblx0XHRyZXR1cm4gYyoodC89ZCkqdCp0ICsgYjtcblx0fSxcblx0b3V0Q3ViaWM6IGZ1bmN0aW9uKHQsIGIsIGMsIGQpIHtcblx0XHRyZXR1cm4gYyooKHQ9dC9kLTEpKnQqdCArIDEpICsgYjtcblx0fSxcblx0aW5PdXRDdWJpYzogZnVuY3Rpb24odCwgYiwgYywgZCkge1xuXHRcdGlmKCh0Lz1kLzIpIDwgMSkgcmV0dXJuIGMvMip0KnQqdCArIGI7XG5cdFx0cmV0dXJuIGMvMiooKHQtPTIpKnQqdCArIDIpICsgYjtcblx0fSxcblx0aW5FeHBvOiBmdW5jdGlvbih0LCBiLCBjLCBkKSB7XG5cdFx0cmV0dXJuKHQ9PTApID8gYiA6IGMgKiBNYXRoLnBvdygyLCAxMCAqKHQvZCAtIDEpKSArIGIgLSBjICogMC4wMDE7XG5cdH0sXG5cdG91dEV4cG86IGZ1bmN0aW9uKHQsIGIsIGMsIGQpIHtcblx0XHRyZXR1cm4odD09ZCkgPyBiK2MgOiBjICogMS4wMDEgKigtTWF0aC5wb3coMiwgLTEwICogdC9kKSArIDEpICsgYjtcblx0fSxcblx0aW5PdXRFeHBvOiBmdW5jdGlvbih0LCBiLCBjLCBkKSB7XG5cdFx0aWYodD09MCkgcmV0dXJuIGI7XG5cdFx0aWYodD09ZCkgcmV0dXJuIGIrYztcblx0XHRpZigodC89ZC8yKSA8IDEpIHJldHVybiBjLzIgKiBNYXRoLnBvdygyLCAxMCAqKHQgLSAxKSkgKyBiIC0gYyAqIDAuMDAwNTtcblx0XHRyZXR1cm4gYy8yICogMS4wMDA1ICooLU1hdGgucG93KDIsIC0xMCAqIC0tdCkgKyAyKSArIGI7XG5cdH0sXG5cdGluRWxhc3RpYzogZnVuY3Rpb24odCwgYiwgYywgZCwgYSwgcCkge1xuXHRcdHZhciBzO1xuXHRcdGlmKHQ9PTApIHJldHVybiBiOyAgaWYoKHQvPWQpPT0xKSByZXR1cm4gYitjOyAgaWYoIXApIHA9ZCouMztcblx0XHRpZighYSB8fCBhIDwgTWF0aC5hYnMoYykpIHsgYT1jOyBzPXAvNDsgfSBlbHNlIHMgPSBwLygyKk1hdGguUEkpICogTWF0aC5hc2luKGMvYSk7XG5cdFx0cmV0dXJuIC0oYSpNYXRoLnBvdygyLDEwKih0LT0xKSkgKiBNYXRoLnNpbigodCpkLXMpKigyKk1hdGguUEkpL3AgKSkgKyBiO1xuXHR9LFxuXHRvdXRFbGFzdGljOiBmdW5jdGlvbih0LCBiLCBjLCBkLCBhLCBwKSB7XG5cdFx0dmFyIHM7XG5cdFx0aWYodD09MCkgcmV0dXJuIGI7ICBpZigodC89ZCk9PTEpIHJldHVybiBiK2M7ICBpZighcCkgcD1kKi4zO1xuXHRcdGlmKCFhIHx8IGEgPCBNYXRoLmFicyhjKSkgeyBhPWM7IHM9cC80OyB9IGVsc2UgcyA9IHAvKDIqTWF0aC5QSSkgKiBNYXRoLmFzaW4oYy9hKTtcblx0XHRyZXR1cm4oYSpNYXRoLnBvdygyLC0xMCp0KSAqIE1hdGguc2luKCh0KmQtcykqKDIqTWF0aC5QSSkvcCApICsgYyArIGIpO1xuXHR9LFxuXHRpbk91dEVsYXN0aWM6IGZ1bmN0aW9uKHQsIGIsIGMsIGQsIGEsIHApIHtcblx0XHR2YXIgcztcblx0XHRpZih0PT0wKSByZXR1cm4gYjsgXG5cdFx0aWYoKHQvPWQvMik9PTIpIHJldHVybiBiK2M7XG5cdFx0aWYoIXApIHA9ZCooLjMqMS41KTtcblx0XHRpZighYSB8fCBhIDwgTWF0aC5hYnMoYykpIHsgYT1jOyBzPXAvNDsgfSAgICAgICBlbHNlIHMgPSBwLygyKk1hdGguUEkpICogTWF0aC5hc2luKGMvYSk7XG5cdFx0aWYodCA8IDEpIHJldHVybiAtLjUqKGEqTWF0aC5wb3coMiwxMCoodC09MSkpICogTWF0aC5zaW4oKHQqZC1zKSooMipNYXRoLlBJKS9wICkpICsgYjtcblx0XHRyZXR1cm4gYSpNYXRoLnBvdygyLC0xMCoodC09MSkpICogTWF0aC5zaW4oKHQqZC1zKSooMipNYXRoLlBJKS9wICkqLjUgKyBjICsgYjtcblx0fSxcblx0aW5CYWNrOiBmdW5jdGlvbih0LCBiLCBjLCBkLCBzKSB7XG5cdFx0aWYocyA9PSB1bmRlZmluZWQpIHMgPSAxLjcwMTU4O1xuXHRcdHJldHVybiBjKih0Lz1kKSp0KigocysxKSp0IC0gcykgKyBiO1xuXHR9LFxuXHRvdXRCYWNrOiBmdW5jdGlvbih0LCBiLCBjLCBkLCBzKSB7XG5cdFx0aWYocyA9PSB1bmRlZmluZWQpIHMgPSAxLjcwMTU4O1xuXHRcdHJldHVybiBjKigodD10L2QtMSkqdCooKHMrMSkqdCArIHMpICsgMSkgKyBiO1xuXHR9LFxuXHRpbk91dEJhY2s6IGZ1bmN0aW9uKHQsIGIsIGMsIGQsIHMpIHtcblx0XHRpZihzID09IHVuZGVmaW5lZCkgcyA9IDEuNzAxNTg7XG5cdFx0aWYoKHQvPWQvMikgPCAxKSByZXR1cm4gYy8yKih0KnQqKCgocyo9KDEuNTI1KSkrMSkqdCAtIHMpKSArIGI7XG5cdFx0cmV0dXJuIGMvMiooKHQtPTIpKnQqKCgocyo9KDEuNTI1KSkrMSkqdCArIHMpICsgMikgKyBiO1xuXHR9LFxuXHRpbkJvdW5jZTogZnVuY3Rpb24odCwgYiwgYywgZCkge1xuXHRcdHJldHVybiBjIC0gdGhpcy5vdXRCb3VuY2UodCwgZC10LCAwLCBjLCBkKSArIGI7XG5cdH0sXG5cdG91dEJvdW5jZTogZnVuY3Rpb24odCwgYiwgYywgZCkge1xuXHRcdGlmKCh0Lz1kKSA8KDEvMi43NSkpIHtcblx0XHRcdHJldHVybiBjKig3LjU2MjUqdCp0KSArIGI7XG5cdFx0fSBlbHNlIGlmKHQgPCgyLzIuNzUpKSB7XG5cdFx0XHRyZXR1cm4gYyooNy41NjI1Kih0LT0oMS41LzIuNzUpKSp0ICsgLjc1KSArIGI7XG5cdFx0fSBlbHNlIGlmKHQgPCgyLjUvMi43NSkpIHtcblx0XHRcdHJldHVybiBjKig3LjU2MjUqKHQtPSgyLjI1LzIuNzUpKSp0ICsgLjkzNzUpICsgYjtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmV0dXJuIGMqKDcuNTYyNSoodC09KDIuNjI1LzIuNzUpKSp0ICsgLjk4NDM3NSkgKyBiO1xuXHRcdH1cblx0fSxcblx0aW5PdXRCb3VuY2U6IGZ1bmN0aW9uKHQsIGIsIGMsIGQpIHtcblx0XHRpZih0IDwgZC8yKSByZXR1cm4gdGhpcy5pbkJvdW5jZSh0KjIsIDAsIGMsIGQpICogLjUgKyBiO1xuXHRcdHJldHVybiB0aGlzLm91dEJvdW5jZSh0KjItZCwgMCwgYywgZCkgKiAuNSArIGMqLjUgKyBiO1xuXHR9LFxuXHRvdXRIYXJkOiBmdW5jdGlvbih0LCBiLCBjLCBkKSB7XG5cdFx0dmFyIHRzID0gKHQvPWQpKnQ7XG5cdFx0dmFyIHRjID0gdHMqdDtcblx0XHRyZXR1cm4gYiArIGMqKDEuNzUqdGMqdHMgKyAtNy40NDc1KnRzKnRzICsgMTIuOTk1KnRjICsgLTExLjU5NSp0cyArIDUuMjk3NSp0KTtcblx0fVxufTtcblxuZnVuY3Rpb24gbWFpbkxvb3AoKSB7XG5cdGlmICghYW5pbXMubGVuZ3RoKSB7XG5cdFx0Ly8gbm8gYW5pbWF0aW9ucyBsZWZ0LCBzdG9wIHBvbGxpbmdcblx0XHRyZXR1cm47XG5cdH1cblx0XG5cdHZhciBub3cgPSB0aW1lKCk7XG5cdHZhciBmaWx0ZXJlZCA9IFtdLCB0d2Vlbiwgb3B0O1xuXG5cdC8vIGRvIG5vdCB1c2UgQXJyYXkuZmlsdGVyKCkgb2YgXy5maWx0ZXIoKSBmdW5jdGlvblxuXHQvLyBzaW5jZSB0d2VlbuKAmXMgY2FsbGJhY2tzIGNhbiBhZGQgbmV3IGFuaW1hdGlvbnNcblx0Ly8gaW4gcnVudGltZS4gSW4gdGhpcyBjYXNlLCBmaWx0ZXIgZnVuY3Rpb24gd2lsbCBsb29zZVxuXHQvLyBuZXdseSBjcmVhdGVkIGFuaW1hdGlvblxuXHRmb3IgKHZhciBpID0gMDsgaSA8IGFuaW1zLmxlbmd0aDsgaSsrKSB7XG5cdFx0dHdlZW4gPSBhbmltc1tpXTtcblxuXHRcdGlmICghdHdlZW4uYW5pbWF0aW5nKSB7XG5cdFx0XHRjb250aW51ZTtcblx0XHR9XG5cblx0XHRvcHQgPSB0d2Vlbi5vcHRpb25zO1xuXG5cdFx0aWYgKHR3ZWVuLnN0YXJ0VGltZSA+IG5vdykge1xuXHRcdFx0ZmlsdGVyZWQucHVzaCh0d2Vlbik7XG5cdFx0XHRjb250aW51ZTtcblx0XHR9XG5cblx0XHRpZiAodHdlZW4uaW5maW5pdGUpIHtcblx0XHRcdC8vIG9wdC5zdGVwLmNhbGwodHdlZW4sIDApO1xuXHRcdFx0b3B0LnN0ZXAoMCwgdHdlZW4pO1xuXHRcdFx0ZmlsdGVyZWQucHVzaCh0d2Vlbik7XG5cdFx0fSBlbHNlIGlmICh0d2Vlbi5wb3MgPT09IDEgfHwgdHdlZW4uZW5kVGltZSA8PSBub3cpIHtcblx0XHRcdHR3ZWVuLnBvcyA9IDE7XG5cdFx0XHQvLyBvcHQuc3RlcC5jYWxsKHR3ZWVuLCBvcHQucmV2ZXJzZSA/IDAgOiAxKTtcblx0XHRcdG9wdC5zdGVwKG9wdC5yZXZlcnNlID8gMCA6IDEsIHR3ZWVuKTtcblx0XHRcdHR3ZWVuLnN0b3AoKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dHdlZW4ucG9zID0gb3B0LmVhc2luZyhub3cgLSB0d2Vlbi5zdGFydFRpbWUsIDAsIDEsIG9wdC5kdXJhdGlvbik7XG5cdFx0XHQvLyBvcHQuc3RlcC5jYWxsKHR3ZWVuLCBvcHQucmV2ZXJzZSA/IDEgLSB0d2Vlbi5wb3MgOiB0d2Vlbi5wb3MpO1xuXHRcdFx0b3B0LnN0ZXAob3B0LnJldmVyc2UgPyAxIC0gdHdlZW4ucG9zIDogdHdlZW4ucG9zLCB0d2Vlbik7XG5cdFx0XHRmaWx0ZXJlZC5wdXNoKHR3ZWVuKTtcblx0XHR9XHRcdFx0XG5cdH1cblxuXHRhbmltcyA9IGZpbHRlcmVkO1xuXG5cdGlmIChhbmltcy5sZW5ndGgpIHtcblx0XHRyZXF1ZXN0QW5pbWF0aW9uRnJhbWUobWFpbkxvb3ApO1xuXHR9XG59XG5cbmZ1bmN0aW9uIGFkZFRvUXVldWUodHdlZW4pIHtcblx0aWYgKGluZGV4T2YoYW5pbXMsIHR3ZWVuKSA9PSAtMSkge1xuXHRcdGFuaW1zLnB1c2godHdlZW4pO1xuXHRcdGlmIChhbmltcy5sZW5ndGggPT0gMSkge1xuXHRcdFx0bWFpbkxvb3AoKTtcblx0XHR9XG5cdH1cbn1cblxuZXhwb3J0IGNsYXNzIFR3ZWVuIHtcblx0Y29uc3RydWN0b3Iob3B0aW9ucykge1xuXHRcdHRoaXMub3B0aW9ucyA9IGV4dGVuZCh7fSwgZGVmYXVsdHMsIG9wdGlvbnMpO1xuXHRcblx0XHR2YXIgZSA9IHRoaXMub3B0aW9ucy5lYXNpbmc7XG5cdFx0aWYgKHR5cGVvZiBlID09ICdzdHJpbmcnKSB7XG5cdFx0XHRpZiAoIWVhc2luZ3NbZV0pXG5cdFx0XHRcdHRocm93ICdVbmtub3duIFwiJyArIGUgKyAnXCIgZWFzaW5nIGZ1bmN0aW9uJztcblx0XHRcdHRoaXMub3B0aW9ucy5lYXNpbmcgPSBlYXNpbmdzW2VdO1xuXHRcdH1cblx0XHRcblx0XHRpZiAodHlwZW9mIHRoaXMub3B0aW9ucy5lYXNpbmcgIT0gJ2Z1bmN0aW9uJylcblx0XHRcdHRocm93ICdFYXNpbmcgc2hvdWxkIGJlIGEgZnVuY3Rpb24nO1xuXG5cdFx0dGhpcy5faWQgPSAndHcnICsgKGlkQ291bnRlcisrKTtcblx0XHRcblx0XHRpZiAodGhpcy5vcHRpb25zLmF1dG9zdGFydCkge1xuXHRcdFx0dGhpcy5zdGFydCgpO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBTdGFydCBhbmltYXRpb24gZnJvbSB0aGUgYmVnaW5uaW5nXG5cdCAqL1xuXHRzdGFydCgpIHtcblx0XHRpZiAoIXRoaXMuYW5pbWF0aW5nKSB7XG5cdFx0XHR0aGlzLnBvcyA9IDA7XG5cdFx0XHR0aGlzLnN0YXJ0VGltZSA9IHRpbWUoKSArICh0aGlzLm9wdGlvbnMuZGVsYXkgfHwgMCk7XG5cdFx0XHR0aGlzLmluZmluaXRlID0gdGhpcy5vcHRpb25zLmR1cmF0aW9uID09PSAnaW5maW5pdGUnO1xuXHRcdFx0dGhpcy5lbmRUaW1lID0gdGhpcy5pbmZpbml0ZSA/IDAgOiB0aGlzLnN0YXJ0VGltZSArIHRoaXMub3B0aW9ucy5kdXJhdGlvbjtcblx0XHRcdHRoaXMuYW5pbWF0aW5nID0gdHJ1ZTtcblx0XHRcdHRoaXMub3B0aW9ucy5zdGFydCh0aGlzKTtcblx0XHRcdGFkZFRvUXVldWUodGhpcyk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXM7XG5cdH1cblxuXHQvKipcblx0ICogU3RvcCBhbmltYXRpb25cblx0ICovXG5cdHN0b3AoKSB7XG5cdFx0aWYgKHRoaXMuYW5pbWF0aW5nKSB7XG5cdFx0XHR0aGlzLmFuaW1hdGluZyA9IGZhbHNlO1xuXHRcdFx0aWYgKHRoaXMub3B0aW9ucy5jb21wbGV0ZSkge1xuXHRcdFx0XHR0aGlzLm9wdGlvbnMuY29tcGxldGUodGhpcyk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJldHVybiB0aGlzO1xuXHR9XG5cblx0dG9nZ2xlKCkge1xuXHRcdGlmICh0aGlzLmFuaW1hdGluZykge1xuXHRcdFx0dGhpcy5zdG9wKCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRoaXMuc3RhcnQoKTtcblx0XHR9XG5cdH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdHdlZW4ob3B0aW9ucykge1xuXHRyZXR1cm4gbmV3IFR3ZWVuKG9wdGlvbnMpO1xufVxuXG4vKipcbiAqIEdldCBvciBzZXQgZGVmYXVsdCB2YWx1ZVxuICogQHBhcmFtICB7U3RyaW5nfSBuYW1lXG4gKiBAcGFyYW0gIHtPYmplY3R9IHZhbHVlXG4gKiBAcmV0dXJuIHtPYmplY3R9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZWZhdWx0cyhuYW1lLCB2YWx1ZSkge1xuXHRpZiAodHlwZW9mIHZhbHVlICE9ICd1bmRlZmluZWQnKSB7XG5cdFx0ZGVmYXVsdHNbbmFtZV0gPSB2YWx1ZTtcblx0fVxuXG5cdHJldHVybiBkZWZhdWx0c1tuYW1lXTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGFsbCBhY3RpdmUgYW5pbWF0aW9uIG9iamVjdHMuXG4gKiBGb3IgZGVidWdnaW5nIG1vc3RseVxuICogQHJldHVybiB7QXJyYXl9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBfYWxsKCkge1xuXHRyZXR1cm4gYW5pbXM7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzdG9wKCkge1xuXHRmb3IgKHZhciBpID0gMDsgaSA8IGFuaW1zLmxlbmd0aDsgaSsrKSB7XG5cdFx0YW5pbXNbaV0uc3RvcCgpO1xuXHR9XG5cblx0YW5pbXMubGVuZ3RoID0gMDtcbn07IiwiLyoqXG4gKiBTaG93cyBmYWtlIHByb21wdCBkaWFsb2cgd2l0aCBpbnRlcmFjdGl2ZSB2YWx1ZSB0eXBpbmdcbiAqL1xuaW1wb3J0IHR3ZWVuIGZyb20gJy4uL3ZlbmRvci90d2Vlbic7XG5pbXBvcnQge2V4dGVuZCwgdGVtcGxhdGUsIGhhczNkLCBwcmVmaXhlZH0gZnJvbSAnLi4vdXRpbHMnO1xuaW1wb3J0ICogYXMgZG9tIGZyb20gJy4uL2RvbSc7XG5cbnZhciBkaWFsb2dJbnN0YW5jZSA9IG51bGw7XG52YXIgYmdJbnN0YW5jZSA9IG51bGw7XG52YXIgbGFzdFR3ZWVuID0gbnVsbDtcblxuZXhwb3J0IHZhciBhY3Rpb25zID0ge1xuXHRwcm9tcHQoe29wdGlvbnMsIGVkaXRvciwgbmV4dCwgdGltZXJ9KSB7XG5cdFx0b3B0aW9ucyA9IGV4dGVuZCh7XG5cdFx0XHR0aXRsZTogJ0VudGVyIHNvbWV0aGluZycsXG5cdFx0XHRkZWxheTogODAsICAgICAgICAvLyBkZWxheSBiZXR3ZWVuIGNoYXJhY3RlciB0eXBpbmdcblx0XHRcdHR5cGVEZWxheTogMTAwMCwgIC8vIHRpbWUgdG8gd2FpdCBiZWZvcmUgdHlwaW5nIHRleHRcblx0XHRcdGhpZGVEZWxheTogMjAwMCAgIC8vIHRpbWUgdG8gd2FpdCBiZWZvcmUgaGlkaW5nIHByb21wdCBkaWFsb2dcblx0XHR9LCB3cmFwKCd0ZXh0Jywgb3B0aW9ucykpO1xuXHRcdFxuXHRcdHNob3cob3B0aW9ucy50aXRsZSwgZWRpdG9yLmdldFdyYXBwZXJFbGVtZW50KCksIGZ1bmN0aW9uKGRpYWxvZykge1xuXHRcdFx0dGltZXIoZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHR5cGVUZXh0KGRpYWxvZy5xdWVyeVNlbGVjdG9yKCcuQ29kZU1pcnJvci1wcm9tcHRfX2lucHV0JyksIG9wdGlvbnMsIHRpbWVyLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHR0aW1lcihmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdGhpZGUobmV4dCk7XG5cdFx0XHRcdFx0fSwgb3B0aW9ucy5oaWRlRGVsYXkpO1xuXHRcdFx0XHR9KTtcblx0XHRcdH0sIG9wdGlvbnMudHlwZURlbGF5KTtcblx0XHR9KTtcblx0fVxufTtcblxuZXhwb3J0IGZ1bmN0aW9uIHNob3codGV4dCwgdGFyZ2V0LCBjYWxsYmFjaykge1xuXHRoaWRlKCk7XG5cdGRpYWxvZ0luc3RhbmNlID0gZG9tLnRvRE9NKGA8ZGl2IGNsYXNzPVwiQ29kZU1pcnJvci1wcm9tcHRcIj5cblx0XHQ8ZGl2IGNsYXNzPVwiQ29kZU1pcnJvci1wcm9tcHRfX3RpdGxlXCI+JHt0ZXh0fTwvZGl2PlxuXHRcdDxpbnB1dCB0eXBlPVwidGV4dFwiIG5hbWU9XCJwcm9tcHRcIiBjbGFzcz1cIkNvZGVNaXJyb3ItcHJvbXB0X19pbnB1dFwiIHJlYWRvbmx5PVwicmVhZG9ubHlcIiAvPlxuXHRcdDwvZGl2PmApO1xuXHRiZ0luc3RhbmNlID0gZG9tLnRvRE9NKCc8ZGl2IGNsYXNzPVwiQ29kZU1pcnJvci1wcm9tcHRfX3NoYWRlXCI+PC9kaXY+Jyk7XG5cdFxuXHR0YXJnZXQuYXBwZW5kQ2hpbGQoZGlhbG9nSW5zdGFuY2UpO1xuXHR0YXJnZXQuYXBwZW5kQ2hpbGQoYmdJbnN0YW5jZSk7XG5cdFxuXHRhbmltYXRlU2hvdyhkaWFsb2dJbnN0YW5jZSwgYmdJbnN0YW5jZSwge2NvbXBsZXRlOiBjYWxsYmFja30pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaGlkZShjYWxsYmFjaykge1xuXHRpZiAoZGlhbG9nSW5zdGFuY2UpIHtcblx0XHRpZiAobGFzdFR3ZWVuKSB7XG5cdFx0XHRsYXN0VHdlZW4uc3RvcCgpO1xuXHRcdFx0bGFzdFR3ZWVuID0gbnVsbDtcblx0XHR9XG5cdFx0YW5pbWF0ZUhpZGUoZGlhbG9nSW5zdGFuY2UsIGJnSW5zdGFuY2UsIHtjb21wbGV0ZTogY2FsbGJhY2t9KTtcblx0XHRkaWFsb2dJbnN0YW5jZSA9IGJnSW5zdGFuY2UgPSBudWxsO1xuXHR9IGVsc2UgaWYgKGNhbGxiYWNrKSB7XG5cdFx0Y2FsbGJhY2soKTtcblx0fVxufVxuXG4vKipcbiAqIEBwYXJhbSB7RWxlbWVudH0gZGlhbG9nXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGJnXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyBcbiAqL1xuZnVuY3Rpb24gYW5pbWF0ZVNob3coZGlhbG9nLCBiZywgb3B0aW9ucz17fSkge1xuXHR2YXIgY3NzVHJhbnNmb3JtID0gcHJlZml4ZWQoJ3RyYW5zZm9ybScpO1xuXHR2YXIgZGlhbG9nU3R5bGUgPSBkaWFsb2cuc3R5bGU7XG5cdHZhciBiZ1N0eWxlID0gYmcuc3R5bGU7XG5cdHZhciBoZWlnaHQgPSBkaWFsb2cub2Zmc2V0SGVpZ2h0O1xuXHR2YXIgdG1wbCA9IHRlbXBsYXRlKGhhczNkID8gJ3RyYW5zbGF0ZTNkKDAsIDwlPSBwb3MgJT4sIDApJyA6ICd0cmFuc2xhdGUoMCwgPCU9IHBvcyAlPiknKTtcblxuXHRiZ1N0eWxlLm9wYWNpdHkgPSAwO1xuXHR0d2Vlbih7XG5cdFx0ZHVyYXRpb246IDIwMCxcblx0XHRzdGVwKHBvcykge1xuXHRcdFx0YmdTdHlsZS5vcGFjaXR5ID0gcG9zO1xuXHRcdH1cblx0fSk7XG5cdFxuXHRkaWFsb2dTdHlsZVtjc3NUcmFuc2Zvcm1dID0gdG1wbCh7cG9zOiAtaGVpZ2h0fSk7XG5cdFxuXHRyZXR1cm4gbGFzdFR3ZWVuID0gdHdlZW4oe1xuXHRcdGR1cmF0aW9uOiA0MDAsXG5cdFx0ZWFzaW5nOiAnb3V0Q3ViaWMnLFxuXHRcdHN0ZXAocG9zKSB7XG5cdFx0XHRkaWFsb2dTdHlsZVtjc3NUcmFuc2Zvcm1dID0gdG1wbCh7cG9zOiAoLWhlaWdodCAqICgxIC0gcG9zKSkgKyAncHgnfSk7XG5cdFx0fSxcblx0XHRjb21wbGV0ZTogZnVuY3Rpb24oKSB7XG5cdFx0XHRsYXN0VHdlZW4gPSBudWxsO1xuXHRcdFx0b3B0aW9ucy5jb21wbGV0ZSAmJiBvcHRpb25zLmNvbXBsZXRlKGRpYWxvZywgYmcpO1xuXHRcdH1cblx0fSk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtFbGVtZW50fSBkaWFsb2dcbiAqIEBwYXJhbSB7RWxlbWVudH0gYmdcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gKi9cbmZ1bmN0aW9uIGFuaW1hdGVIaWRlKGRpYWxvZywgYmcsIG9wdGlvbnMpIHtcblx0dmFyIGRpYWxvZ1N0eWxlID0gZGlhbG9nLnN0eWxlO1xuXHR2YXIgYmdTdHlsZSA9IGJnLnN0eWxlO1xuXHR2YXIgaGVpZ2h0ID0gZGlhbG9nLm9mZnNldEhlaWdodDtcblx0dmFyIGNzc1RyYW5zZm9ybSA9IHByZWZpeGVkKCd0cmFuc2Zvcm0nKTtcblx0dmFyIHRtcGwgPSB0ZW1wbGF0ZShoYXMzZCA/ICd0cmFuc2xhdGUzZCgwLCA8JT0gcG9zICU+LCAwKScgOiAndHJhbnNsYXRlKDAsIDwlPSBwb3MgJT4pJyk7XG5cblx0cmV0dXJuIHR3ZWVuKHtcblx0XHRkdXJhdGlvbjogMjAwLFxuXHRcdHN0ZXAocG9zKSB7XG5cdFx0XHRkaWFsb2dTdHlsZVtjc3NUcmFuc2Zvcm1dID0gdG1wbCh7cG9zOiAoLWhlaWdodCAqIHBvcykgKyAncHgnfSk7XG5cdFx0XHRiZ1N0eWxlLm9wYWNpdHkgPSAxIC0gcG9zO1xuXHRcdH0sXG5cdFx0Y29tcGxldGUoKSB7XG5cdFx0XHRkb20ucmVtb3ZlKFtkaWFsb2csIGJnXSk7XG5cdFx0XHRvcHRpb25zLmNvbXBsZXRlICYmIG9wdGlvbnMuY29tcGxldGUoZGlhbG9nLCBiZyk7XG5cdFx0fVxuXHR9KTtcbn1cblxuZnVuY3Rpb24gdHlwZVRleHQodGFyZ2V0LCBvcHRpb25zLCB0aW1lciwgbmV4dCkge1xuXHR2YXIgY2hhcnMgPSBvcHRpb25zLnRleHQuc3BsaXQoJycpO1xuXHR0aW1lcihmdW5jdGlvbiBwZXJmb3JtKCkge1xuXHRcdHRhcmdldC52YWx1ZSArPSBjaGFycy5zaGlmdCgpO1xuXHRcdGlmIChjaGFycy5sZW5ndGgpIHtcblx0XHRcdHRpbWVyKHBlcmZvcm0sIG9wdGlvbnMuZGVsYXkpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRuZXh0KCk7XG5cdFx0fVxuXHR9LCBvcHRpb25zLmRlbGF5KTtcbn1cblxuZnVuY3Rpb24gd3JhcChrZXksIHZhbHVlKSB7XG5cdHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnID8gdmFsdWUgOiB7W2tleV06IHZhbHVlfTtcbn0iLCIvKipcbiAqIEV4dGVuc2lvbiB0aGF0IGFsbG93cyBhdXRob3JzIHRvIGRpc3BsYXkgY29udGV4dCB0b29sdGlwcyBib3VuZCB0byBzcGVjaWZpY1xuICogcG9zaXRpb25zXG4gKi9cbmltcG9ydCB0d2VlbiBmcm9tICcuLi92ZW5kb3IvdHdlZW4nO1xuaW1wb3J0IHtleHRlbmQsIHByZWZpeGVkLCBtYWtlUG9zLCBoYXMzZH0gZnJvbSAnLi4vdXRpbHMnO1xuaW1wb3J0ICogYXMgZG9tIGZyb20gJy4uL2RvbSc7XG5cbnZhciBpbnN0YW5jZSA9IG51bGw7XG52YXIgbGFzdFR3ZWVuID0gbnVsbDtcblxuZXhwb3J0IHZhciBhbGlnbkRlZmF1bHRzID0ge1xuXHQvKiogQ1NTIHNlbGVjdG9yIGZvciBnZXR0aW5nIHBvcHVwIHRhaWwgKi9cblx0dGFpbENsYXNzOiAnQ29kZU1pcnJvci10b29sdGlwX190YWlsJyxcblx0XG5cdC8qKiBDbGFzcyBuYW1lIGZvciBzd2l0Y2hpbmcgdGFpbC9wb3B1cCBwb3NpdGlvbiByZWxhdGl2ZSB0byB0YXJnZXQgcG9pbnQgKi9cblx0YmVsb3dDbGFzczogJ0NvZGVNaXJyb3ItdG9vbHRpcF9iZWxvdycsXG5cdFxuXHQvKiogTWluIGRpc3RhbmNlIGJldHdlZW4gcG9wdXAgYW5kIHZpZXdwb3J0ICovXG5cdHBvcHVwTWFyZ2luOiA1LFxuXHRcblx0LyoqIE1pbiBkaXN0YW5jZSBiZXR3ZWVuIHBvcHVwIGxlZnQvcmlnaHQgZWRnZSBhbmQgaXRzIHRhaWwgKi9cblx0dGFpbE1hcmdpbjogMTFcbn07XG5cbmV4cG9ydCB2YXIgYWN0aW9ucyA9IHtcblx0LyoqXG5cdCAqIFNob3dzIHRvb2x0aXAgd2l0aCBnaXZlbiB0ZXh0LCB3YWl0IGZvciBgb3B0aW9ucy53YWl0YFxuXHQgKiBtaWxsaXNlY29uZHMgdGhlbiBoaWRlcyB0b29sdGlwXG5cdCAqL1xuXHR0b29sdGlwKHtvcHRpb25zLCBlZGl0b3IsIHByZXYsIG5leHQsIHRpbWVyfSkge1xuXHRcdG9wdGlvbnMgPSBleHRlbmQoe1xuXHRcdFx0d2FpdDogNDAwMCwgICAvLyB0aW1lIHRvIHdhaXQgYmVmb3JlIGhpZGluZyB0b29sdGlwXG5cdFx0XHRwb3M6ICdjYXJldCcgIC8vIHBvc2l0aW9uIHdoZXJlIHRvb2x0aXAgc2hvdWxkIHBvaW50IHRvXG5cdFx0fSwgd3JhcCgndGV4dCcsIG9wdGlvbnMpKTtcblx0XHRcblx0XHR2YXIgcG9zID0gcmVzb2x2ZVBvc2l0aW9uKG9wdGlvbnMucG9zLCBlZGl0b3IpO1xuXHRcdHNob3coe3RleHQ6IG9wdGlvbnMudGV4dCwgcHJldiwgbmV4dH0sIHBvcywgZnVuY3Rpb24oKSB7XG5cdFx0XHQvLyB0aW1lcihmdW5jdGlvbigpIHtcblx0XHRcdC8vIFx0aGlkZSgoKSA9PiB0aW1lcihuZXh0KSk7XG5cdFx0XHQvLyB9LCBvcHRpb25zLndhaXQpO1xuXG5cdFx0XHRpZiAocHJldikge1xuXHRcdFx0XHRpbnN0YW5jZS5xdWVyeVNlbGVjdG9yKCcuQ29kZU1pcnJvci10b29sdGlwX19wcmV2JykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG5cdFx0XHRcdFx0aGlkZShwcmV2KVxuXHRcdFx0XHR9KVxuXHRcdFx0fVxuXG5cdFx0XHRpZiAobmV4dCkge1xuXHRcdFx0XHRpbnN0YW5jZS5xdWVyeVNlbGVjdG9yKCcuQ29kZU1pcnJvci10b29sdGlwX19uZXh0JykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG5cdFx0XHRcdFx0aGlkZShuZXh0KVxuXHRcdFx0XHR9KVxuXHRcdFx0fVxuXHRcdH0pO1xuXHR9LFxuXG5cdC8qKlxuXHQgKiBTaG93cyB0b29sdGlwIHdpdGggc3BlY2lmaWVkIHRleHQuIFRoaXMgdG9vbHRpcCBzaG91bGQgYmUgZXhwbGljaXRseSBcblx0ICogaGlkZGVuIHdpdGggYGhpZGVUb29sdGlwYCBhY3Rpb25cblx0ICovXG5cdHNob3dUb29sdGlwKHtvcHRpb25zLCBlZGl0b3IsIHByZXYsIG5leHQsIHRpbWVyfSkge1xuXHRcdG9wdGlvbnMgPSBleHRlbmQoe1xuXHRcdFx0cG9zOiAnY2FyZXQnICAvLyBwb3NpdGlvbiB3aGVyZSB0b29sdGlwIHNob3VsZCBwb2ludCB0b1xuXHRcdH0sIHdyYXAoJ3RleHQnLCBvcHRpb25zKSk7XG5cdFx0XG5cdFx0c2hvdyh7dGV4dDogb3B0aW9ucy50ZXh0LCBwcmV2LCBuZXh0fSwgcmVzb2x2ZVBvc2l0aW9uKG9wdGlvbnMucG9zLCBlZGl0b3IpKTtcblx0XHRuZXh0KCk7XG5cdH0sXG5cblx0LyoqXG5cdCAqIEhpZGVzIHRvb2x0aXAsIHByZXZpb3VzbHkgc2hvd24gYnkgJ3Nob3dUb29sdGlwJyBhY3Rpb25cblx0ICovXG5cdGhpZGVUb29sdGlwKHtvcHRpb25zLCBlZGl0b3IsIG5leHQsIHRpbWVyfSkge1xuXHRcdGhpZGUobmV4dCk7XG5cdH1cbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBzaG93KHt0ZXh0LCBwcmV2LCBuZXh0fSwgcG9zLCBjYWxsYmFjaykge1xuXHRoaWRlKCk7XG5cdFxuXHRsZXQgaHRtbCA9IGA8ZGl2IGNsYXNzPVwiQ29kZU1pcnJvci10b29sdGlwXCI+XG5cdFx0PGRpdiBjbGFzcz1cIkNvZGVNaXJyb3ItdG9vbHRpcF9fY29udGVudFwiPiR7dGV4dH08L2Rpdj5cblx0XHQ8ZGl2IGNsYXNzPVwiQ29kZU1pcnJvci10b29sdGlwX190YWlsXCI+PC9kaXY+YFxuXHRcblx0aWYgKHByZXYpIHtcblx0XHRodG1sICs9ICc8YnV0dG9uIGNsYXNzPVwiQ29kZU1pcnJvci10b29sdGlwX19wcmV2XCI+Zm9yd2FyZDwvYnV0dG9uPidcblx0fVxuXG5cdGlmIChuZXh0KSB7XG5cdFx0aHRtbCArPSAnPGJ1dHRvbiBjbGFzcz1cIkNvZGVNaXJyb3ItdG9vbHRpcF9fbmV4dFwiPmJhY2t3YXJkPC9idXR0b24+J1xuXHR9XG5cblx0aHRtbCArPSAnPC9kaXY+J1xuXG5cdGluc3RhbmNlID0gZG9tLnRvRE9NKGh0bWwpXG5cblx0ZG9tLmNzcyhpbnN0YW5jZSwgcHJlZml4ZWQoJ3RyYW5zZm9ybScpLCAnc2NhbGUoMCknKTtcblx0ZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChpbnN0YW5jZSk7XG5cblx0YWxpZ25Qb3B1cFdpdGhUYWlsKGluc3RhbmNlLCB7cG9zaXRpb246IHBvc30pO1xuXHRhbmltYXRlU2hvdyhpbnN0YW5jZSwge2NvbXBsZXRlOiBjYWxsYmFja30pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaGlkZShjYWxsYmFjaykge1xuXHRpZiAoaW5zdGFuY2UpIHtcblx0XHRpZiAobGFzdFR3ZWVuKSB7XG5cdFx0XHRsYXN0VHdlZW4uc3RvcCgpO1xuXHRcdFx0bGFzdFR3ZWVuID0gbnVsbDtcblx0XHR9XG5cdFx0YW5pbWF0ZUhpZGUoaW5zdGFuY2UsIHtjb21wbGV0ZTogY2FsbGJhY2t9KTtcblx0XHRpbnN0YW5jZSA9IG51bGw7XG5cdH0gZWxzZSBpZiAoY2FsbGJhY2spIHtcblx0XHRjYWxsYmFjaygpO1xuXHR9XG59XG5cbi8qKlxuICogSGVscGVyIGZ1bmN0aW9uIHRoYXQgZmluZHMgb3B0aW1hbCBwb3NpdGlvbiBvZiB0b29sdGlwIHBvcHVwIG9uIHBhZ2VcbiAqIGFuZCBhbGlnbnMgcG9wdXAgdGFpbCB3aXRoIHRoaXMgcG9zaXRpb25cbiAqIEBwYXJhbSB7RWxlbWVudH0gcG9wdXBcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gKi9cbmZ1bmN0aW9uIGFsaWduUG9wdXBXaXRoVGFpbChwb3B1cCwgb3B0aW9ucz17fSkge1xuXHRvcHRpb25zID0gZXh0ZW5kKHt9LCBhbGlnbkRlZmF1bHRzLCBvcHRpb25zKTtcblx0XG5cdGRvbS5jc3MocG9wdXAsIHtcblx0XHRsZWZ0OiAwLFxuXHRcdHRvcDogMFxuXHR9KTtcblx0XG5cdHZhciB0YWlsID0gcG9wdXAucXVlcnlTZWxlY3RvcignLicgKyBvcHRpb25zLnRhaWxDbGFzcyk7XG5cdFxuXHR2YXIgcmVzdWx0WCA9IDAsIHJlc3VsdFkgPSAwO1xuXHR2YXIgcG9zID0gb3B0aW9ucy5wb3NpdGlvbjtcblx0dmFyIHZwID0gZG9tLnZpZXdwb3J0UmVjdCgpO1xuXHRcblx0dmFyIHdpZHRoID0gcG9wdXAub2Zmc2V0V2lkdGg7XG5cdHZhciBoZWlnaHQgPSBwb3B1cC5vZmZzZXRIZWlnaHQ7XG5cdFxuXHR2YXIgaXNUb3A7XG5cdFx0XG5cdC8vIGNhbGN1bGF0ZSBob3Jpem9udGFsIHBvc2l0aW9uXG5cdHJlc3VsdFggPSBNYXRoLm1pbih2cC53aWR0aCAtIHdpZHRoIC0gb3B0aW9ucy5wb3B1cE1hcmdpbiwgTWF0aC5tYXgob3B0aW9ucy5wb3B1cE1hcmdpbiwgcG9zLnggLSB2cC5sZWZ0IC0gd2lkdGggLyAyKSk7XG5cdFxuXHQvLyBjYWxjdWxhdGUgdmVydGljYWwgcG9zaXRpb25cblx0aWYgKGhlaWdodCArIHRhaWwub2Zmc2V0SGVpZ2h0ICsgb3B0aW9ucy5wb3B1cE1hcmdpbiArIHZwLnRvcCA8IHBvcy55KSB7XG5cdFx0Ly8gcGxhY2UgYWJvdmUgdGFyZ2V0IHBvc2l0aW9uXG5cdFx0cmVzdWx0WSA9IE1hdGgubWF4KDAsIHBvcy55IC0gaGVpZ2h0IC0gdGFpbC5vZmZzZXRIZWlnaHQpO1xuXHRcdGlzVG9wID0gdHJ1ZTtcblx0fSBlbHNlIHtcblx0XHQvLyBwbGFjZSBiZWxvdyB0YXJnZXQgcG9zaXRpb24gXG5cdFx0cmVzdWx0WSA9IHBvcy55ICsgdGFpbC5vZmZzZXRIZWlnaHQ7XG5cdFx0aXNUb3AgPSBmYWxzZTtcblx0fVxuXHRcblx0Ly8gY2FsY3VsYXRlIHRhaWwgcG9zaXRpb25cblx0dmFyIHRhaWxNaW5MZWZ0ID0gb3B0aW9ucy50YWlsTWFyZ2luO1xuXHR2YXIgdGFpbE1heExlZnQgPSB3aWR0aCAtIG9wdGlvbnMudGFpbE1hcmdpbjtcblx0dGFpbC5zdHlsZS5sZWZ0ID0gTWF0aC5taW4odGFpbE1heExlZnQsIE1hdGgubWF4KHRhaWxNaW5MZWZ0LCBwb3MueCAtIHJlc3VsdFggLSB2cC5sZWZ0KSkgKyAncHgnO1xuXHRcblx0ZG9tLmNzcyhwb3B1cCwge1xuXHRcdGxlZnQ6IHJlc3VsdFgsXG5cdFx0dG9wOiByZXN1bHRZXG5cdH0pO1xuXHRcblx0cG9wdXAuY2xhc3NMaXN0LnRvZ2dsZShvcHRpb25zLmJlbG93Q2xhc3MsICFpc1RvcCk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtqUXVlcnl9IGVsZW1cbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIFxuICovXG5mdW5jdGlvbiBhbmltYXRlU2hvdyhlbGVtLCBvcHRpb25zPXt9KSB7XG5cdG9wdGlvbnMgPSBleHRlbmQoe30sIGFsaWduRGVmYXVsdHMsIG9wdGlvbnMpO1xuXHR2YXIgY3NzT3JpZ2luID0gcHJlZml4ZWQoJ3RyYW5zZm9ybS1vcmlnaW4nKTtcblx0dmFyIGNzc1RyYW5zZm9ybSA9IHByZWZpeGVkKCd0cmFuc2Zvcm0nKTtcblx0dmFyIHN0eWxlID0gZWxlbS5zdHlsZTtcblxuXHR2YXIgdGFpbCA9IGVsZW0ucXVlcnlTZWxlY3RvcignLicgKyBvcHRpb25zLnRhaWxDbGFzcyk7XG5cdHZhciB4T3JpZ2luID0gZG9tLmNzcyh0YWlsLCAnbGVmdCcpO1xuXHR2YXIgeU9yaWdpbiA9IHRhaWwub2Zmc2V0VG9wO1xuXHRpZiAoZWxlbS5jbGFzc0xpc3QuY29udGFpbnMob3B0aW9ucy5iZWxvd0NsYXNzKSkge1xuXHRcdHlPcmlnaW4gLT0gdGFpbC5vZmZzZXRIZWlnaHQ7XG5cdH1cblx0XG5cdHlPcmlnaW4gKz0gJ3B4JztcblxuXHRzdHlsZVtjc3NPcmlnaW5dID0geE9yaWdpbiArICcgJyArIHlPcmlnaW47XG5cdHZhciBwcmVmaXggPSBoYXMzZCA/ICd0cmFuc2xhdGVaKDApICcgOiAnJztcblx0XG5cdHJldHVybiBsYXN0VHdlZW4gPSB0d2Vlbih7XG5cdFx0ZHVyYXRpb246IDgwMCxcblx0XHRlYXNpbmc6ICdvdXRFbGFzdGljJyxcblx0XHRzdGVwKHBvcykge1xuXHRcdFx0c3R5bGVbY3NzVHJhbnNmb3JtXSA9IHByZWZpeCArICdzY2FsZSgnICsgcG9zICsgJyknO1xuXHRcdH0sXG5cdFx0Y29tcGxldGUoKSB7XG5cdFx0XHRzdHlsZVtjc3NUcmFuc2Zvcm1dID0gJ25vbmUnO1xuXHRcdFx0bGFzdFR3ZWVuID0gbnVsbDtcblx0XHRcdG9wdGlvbnMuY29tcGxldGUgJiYgb3B0aW9ucy5jb21wbGV0ZShlbGVtKTtcblx0XHR9XG5cdH0pO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7alF1ZXJ5fSBlbGVtXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICovXG5mdW5jdGlvbiBhbmltYXRlSGlkZShlbGVtLCBvcHRpb25zKSB7XG5cdHZhciBzdHlsZSA9IGVsZW0uc3R5bGU7XG5cblx0cmV0dXJuIHR3ZWVuKHtcblx0XHRkdXJhdGlvbjogMjAwLFxuXHRcdGVhc2luZzogJ2xpbmVhcicsXG5cdFx0c3RlcDogZnVuY3Rpb24ocG9zKSB7XG5cdFx0XHRzdHlsZS5vcGFjaXR5ID0gKDEgLSBwb3MpO1xuXHRcdH0sXG5cdFx0Y29tcGxldGU6IGZ1bmN0aW9uKCkge1xuXHRcdFx0ZG9tLnJlbW92ZShlbGVtKTtcblx0XHRcdG9wdGlvbnMuY29tcGxldGUgJiYgb3B0aW9ucy5jb21wbGV0ZShlbGVtKTtcblx0XHR9XG5cdH0pO1xufVxuXG4vKipcbiAqIFJlc29sdmVzIHBvc2l0aW9uIHdoZXJlIHRvb2x0aXAgc2hvdWxkIHBvaW50IHRvXG4gKiBAcGFyYW0ge09iamVjdH0gcG9zXG4gKiBAcGFyYW0ge0NvZGVNaXJyb3J9IGVkaXRvclxuICogQHJldHVybnMge09iamVjdH0gT2JqZWN0IHdpdGggPGNvZGU+eDwvY29kZT4gYW5kIDxjb2RlPnk8L2NvZGU+IFxuICogcHJvcGVydGllc1xuICovXG5mdW5jdGlvbiByZXNvbHZlUG9zaXRpb24ocG9zLCBlZGl0b3IpIHtcblx0aWYgKHBvcyA9PT0gJ2NhcmV0Jykge1xuXHRcdC8vIGdldCBhYnNvbHV0ZSBwb3NpdGlvbiBvZiBjdXJyZW50IGNhcmV0IHBvc2l0aW9uXG5cdFx0cmV0dXJuIHNhbml0aXplQ2FyZXRQb3MoZWRpdG9yLmN1cnNvckNvb3Jkcyh0cnVlKSk7XG5cdH1cblxuXHRpZiAodHlwZW9mIHBvcyA9PT0gJ29iamVjdCcpIHtcblx0XHRpZiAoJ3gnIGluIHBvcyAmJiAneScgaW4gcG9zKSB7XG5cdFx0XHQvLyBwYXNzZWQgYWJzb2x1dGUgY29vcmRpbmF0ZXNcblx0XHRcdHJldHVybiBwb3M7XG5cdFx0fVxuXG5cdFx0aWYgKCdsZWZ0JyBpbiBwb3MgJiYgJ3RvcCcgaW4gcG9zKSB7XG5cdFx0XHQvLyBwYXNzZWQgYWJzb2x1dGUgY29vcmRpbmF0ZXNcblx0XHRcdHJldHVybiBzYW5pdGl6ZUNhcmV0UG9zKHBvcyk7XG5cdFx0fVxuXHR9XG5cdFxuXHRwb3MgPSBtYWtlUG9zKHBvcywgZWRpdG9yKTtcblx0cmV0dXJuIHNhbml0aXplQ2FyZXRQb3MoZWRpdG9yLmNoYXJDb29yZHMocG9zKSk7XG59XG5cbmZ1bmN0aW9uIHNhbml0aXplQ2FyZXRQb3MocG9zKSB7XG5cdGlmICgnbGVmdCcgaW4gcG9zKSB7XG5cdFx0cG9zLnggPSBwb3MubGVmdDtcblx0fVxuXG5cdGlmICgndG9wJyBpbiBwb3MpIHtcblx0XHRwb3MueSA9IHBvcy50b3A7XG5cdH1cblxuXHRyZXR1cm4gcG9zO1xufVxuXG5mdW5jdGlvbiB3cmFwKGtleSwgdmFsdWUpIHtcblx0cmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgPyB2YWx1ZSA6IHtba2V5XTogdmFsdWV9O1xufSJdfQ=="}